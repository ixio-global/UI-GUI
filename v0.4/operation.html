<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ixi-O O&M â€“ Support Center ê²Œì‹œíŒ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * { box-sizing: border-box; }

    /* =========================
       Color Design Tokens
    ========================= */
    :root {
      /* Base */
      --bg-body: #f4f4ff;
      --text-main: #111827;
      --text-sub: #4b5563;
      --text-muted: #6b7280;
      --text-light: #9ca3af;

      /* Brand / Primary */
      --brand-grad-from: #8b5cf6;
      --brand-grad-to: #ec4899;
      --brand-main: #7c3aed;
      --brand-main-dark: #5b21b6;
      --brand-main-deep: #4c1d95;

      /* Surface / Border */
      --surface: #ffffff;
      --surface-soft: #f5f3ff;
      --surface-softer: #f9fafb;
      --border-soft: #e5e7eb;
      --border-input: #e5e0ff;

      /* Sidebar / Menu */
      --sidebar-bg: #f5f3ff;
      --sidebar-title: #6b7280;
      --menu-text: #111827;
      --submenu-dot: #d4bfff;

      /* Accents */
      --accent-chip-bg: #f3f4ff;
      --accent-chip-bg-strong: #e5e7ff;
      --accent-chip-text: #4b5563;
      --accent-hover: #f3f4ff;
      --accent-row-alt: #faf5ff;
      --accent-link: #4c1d95;

      /* Buttons */
      --btn-primary-bg: #111827;
      --btn-primary-bg-hover: #1f2937;
      --btn-danger-border: #f97373;
      --btn-danger-text: #b91c1c;
      --btn-danger-bg-hover: #fef2f2;

      /* Table / Pagination */
      --table-head-bg: #f5f3ff;
      --pagination-border: #e5e7eb;
      --pagination-bg-hover: #ede9fe;
      --pagination-border-hover:#c4b5fd;

      /* Stub */
      --stub-border: #e5e7eb;

      /* Selected Row / Pinned */
      --row-selected-bg: #ede9fe;
      --pinned-row-bg: #fef9c3;
      --pinned-row-border:#facc15;
    }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Noto Sans KR", system-ui, sans-serif;
      background: var(--bg-body);
      color: var(--text-main);
    }

    input[type="checkbox"] {
      accent-color: var(--brand-main);
    }

    /* ========================= í—¤ë” (L1) ========================= */
    .header {
      position: fixed;
      inset: 0 0 auto 0;
      height: 60px;
      padding: 0 32px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: linear-gradient(90deg, var(--brand-grad-from), var(--brand-grad-to));
      color: #ffffff;
      z-index: 20;
    }
    .header-left {
      display: flex;
      align-items: center;
      gap: 80px;
    }
    .logo {
      font-weight: 800;
      font-size: 20px;
      letter-spacing: 0.04em;
    }
    .top-nav {
      display: flex;
      gap: 40px;
      font-size: 15px;
    }
    .top-nav-item {
      padding: 6px 10px;
      border-radius: 999px;
      cursor: pointer;
      opacity: 0.9;
      white-space: nowrap;
    }
    .top-nav-item:hover {
      background: rgba(255, 255, 255, 0.18);
      opacity: 1;
    }
    .top-nav-item.active {
      background: #ffffff;
      color: #4c1d95;
      font-weight: 600;
      opacity: 1;
    }
    .header-right {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
    }
    .avatar {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.95);
      color: var(--brand-main);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 14px;
    }

    /* ========================= ë ˆì´ì•„ì›ƒ ========================= */
    .layout {
      display: flex;
      margin-top: 60px;
      min-height: calc(100vh - 60px);
    }

    /* ========================= ì‚¬ì´ë“œë°” (L2 / L3) ========================= */
    .sidebar {
      width: 260px;
      background: var(--sidebar-bg);
      border-right: 1px solid var(--border-soft);
      padding: 24px 16px;
    }
    .sidebar-section-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--sidebar-title);
      margin-bottom: 12px;
    }
    .menu-list {
      list-style: none;
      padding: 0;
      margin: 2;
      display: flex;
      flex-direction: column;
      gap: 8px;
      font-size: 14px;
    }
    .menu-item {
      border-radius: 10px;
      color: var(--menu-text);
    }
    .menu-main {
      padding: 10px 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      border-radius: 10px;
    }
    .menu-main:hover {
      background: #ede9fe;
    }
    .menu-item.active > .menu-main {
      background: var(--brand-main);
      color: #ffffff;
      font-weight: 600;
    }
    .menu-label {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .menu-icon {
      width: 20px;
      height: 20px;
      border-radius: 6px;
      background: #ede9fe;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      color: var(--brand-main);
    }
    .menu-item.active .menu-icon {
      background: rgba(255, 255, 255, 0.22);
      color: #ffffff;
    }
    .menu-arrow {
      font-size: 12px;
      transition: transform 0.15s ease-out;
    }
    .menu-item.open .menu-arrow {
      transform: rotate(90deg);
    }
    .submenu-list {
      list-style: none;
      padding: 0;
      margin: 4px 0 4px 32px;
      display: none;
    }
    .menu-item.open .submenu-list {
      display: block;
    }
    .submenu-item {
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 13px;
      color: var(--text-sub);
      cursor: pointer;
      position: relative;
    }
    .submenu-item::before {
      content: "";
      position: absolute;
      left: -10px;
      top: 50%;
      transform: translateY(-50%);
      width: 3px;
      height: 3px;
      border-radius: 999px;
      background: var(--submenu-dot);
    }
    .submenu-item:hover {
      background: #f5f3ff;
    }
    .submenu-item.active {
      background: #ede9fe;
      color: var(--brand-main-dark);
      font-weight: 600;
    }
    .submenu-item.active::before {
      background: var(--brand-main);
    }

    /* ========================= ë©”ì¸ ì»¨í…ì¸  ========================= */
    .main {
      flex: 1;
      padding: 24px 32px 32px;
      overflow: auto;
    }
    .breadcrumb {
      font-size: 14px;
      color: var(--text-muted);
      display: flex;
      align-items: center;
      gap: 4px;
      margin-bottom: 12px;
    }
    .breadcrumb span.current {
      color: var(--text-main);
      font-weight: 600;
    }
    .page-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 18px;
      color: var(--text-main);
    }

    /* ========================= Support Center ê²Œì‹œíŒ íƒ­/ê²€ìƒ‰ ========================= */
    .board-tabs {
      display: inline-flex;
      gap: 6px;
      padding: 4px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.8);
      box-shadow: 0 6px 18px rgba(148, 163, 184, 0.25);
      margin-bottom: 16px;
    }
    .board-tab {
      border-radius: 999px;
      border: none;
      padding: 6px 16px;
      font-size: 13px;
      cursor: pointer;
      background: transparent;
      color: var(--text-sub);
    }
    .board-tab.active {
      background: #ffffff;
      color: var(--brand-main-dark);
      font-weight: 600;
      box-shadow: 0 0 0 1px rgba(124, 58, 237, 0.25);
    }
    .board-search-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
      margin-top: 4px;
    }
    .board-search-input {
      flex: 1;
      min-width: 200px;
      padding: 9px 12px;
      border-radius: 10px;
      border: 1px solid var(--border-input);
      background: #fafafc;
      font-size: 13px;
      outline: none;
      color: var(--text-main);
    }
    .board-search-input::placeholder {
      color: var(--text-muted);
    }
    .board-search-input:focus {
      border-color: var(--brand-main);
      box-shadow: 0 0 0 1px rgba(124, 58, 237, 0.18);
      background: #ffffff;
    }

    /* ========================= ë²„íŠ¼ ê³µí†µ ========================= */
    .btn-dark {
      padding: 9px 18px;
      border-radius: 10px;
      border: none;
      background: #111827;
      color: #ffffff;
      font-size: 13px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .btn-dark:hover {
      background: #1f2937;
    }
    .btn-primary {
      padding: 9px 22px;
      border-radius: 10px;
      border: none;
      background: var(--btn-primary-bg);
      color: #ffffff;
      font-size: 13px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .btn-primary:hover {
      background: var(--btn-primary-bg-hover);
    }
    .btn-outline-red {
      padding: 9px 18px;
      border-radius: 10px;
      border: 1px solid var(--btn-danger-border);
      background: #ffffff;
      color: var(--btn-danger-text);
      font-size: 13px;
      cursor: pointer;
    }
    .btn-outline-red:hover {
      background: var(--btn-danger-bg-hover);
    }
    .btn-secondary {
      padding: 8px 16px;
      border-radius: 10px;
      border: 1px solid var(--border-soft);
      background: #ffffff;
      color: var(--text-sub);
      font-size: 13px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .btn-secondary:hover {
      background: var(--surface-soft);
    }
    .btn-ghost {
      padding: 8px 10px;
      border-radius: 8px;
      border: none;
      background: transparent;
      color: var(--text-sub);
      font-size: 12px;
      cursor: pointer;
    }
    .btn-ghost:hover {
      background: #f3f4ff;
    }
    .btn-group-right {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-top: 16px;
    }

    /* ========================= ë¦¬ìŠ¤íŠ¸ ìƒë‹¨ íˆ´ë°” ========================= */
    .list-toolbar {
      margin-top: 12px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 13px;
      color: var(--text-sub);
    }
    .list-toolbar strong {
      color: var(--text-main);
    }
    .toolbar-actions {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .ticket-search-input {
      min-width: 230px;
      padding: 7px 12px;
      border-radius: 999px;
      border: 1px solid var(--border-input);
      background: #fafafc;
      font-size: 12px;
      outline: none;
      color: var(--text-main);
    }
    .ticket-search-input::placeholder {
      color: var(--text-muted);
    }
    .ticket-search-input:focus {
      border-color: var(--brand-main);
      box-shadow: 0 0 0 1px rgba(124, 58, 237, 0.18);
      background: #ffffff;
    }

    /* ========================= í…Œì´ë¸” (ëª©ë¡) ========================= */
    .table-wrap {
      background: var(--surface);
      border-radius: 12px;
      border: 1px solid var(--border-soft);
      overflow: hidden;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    thead {
      background: var(--table-head-bg);
    }
    th, td {
      padding: 10px 14px;
      text-align: left;
      border-bottom: 1px solid var(--border-soft);
      white-space: nowrap;
    }
    th {
      font-weight: 600;
      color: var(--text-sub);
      font-size: 12px;
    }
    tbody tr:nth-child(even) {
      background: var(--accent-row-alt);
    }
    tbody tr:hover {
      background: var(--accent-hover);
    }
    .text-link {
      color: var(--accent-link);
      text-decoration: underline;
      text-decoration-thickness: 0.07em;
      text-underline-offset: 2px;
      cursor: pointer;
    }
    .checkbox-cell {
      width: 40px;
    }
    .pinned-row {
      background: var(--pinned-row-bg);
      border-bottom: 1px solid var(--pinned-row-border);
    }
    .pinned-badge {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      background: #fef3c7;
      color: #92400e;
      margin-right: 6px;
    }

    /* Empty State */
    .empty-state-wrap {
      padding: 32px 16px;
    }
    .empty-state {
      max-width: 520px;
      margin: 0 auto;
      padding: 26px 20px 24px;
      border-radius: 12px;
      background: #f9fafb;
      border: 1px dashed var(--border-soft);
      text-align: center;
    }
    .empty-icon {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      margin: 0 auto 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      background: #eef2ff;
      color: #4f46e5;
    }
    .empty-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 6px;
      color: var(--text-main);
    }
    .empty-desc {
      margin: 0;
      font-size: 13px;
      color: var(--text-muted);
      line-height: 1.6;
    }

    /* ========================= í˜ì´ì§€ë„¤ì´ì…˜ ========================= */
    .table-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 14px;
      background: var(--surface);
      font-size: 12px;
      color: var(--text-sub);
    }
    .rows-per-page select {
      padding: 4px 8px;
      border-radius: 6px;
      border: 1px solid var(--border-input);
      background: var(--surface);
      font-size: 12px;
      color: var(--text-main);
    }
    .pagination {
      display: inline-flex;
      gap: 4px;
      align-items: center;
    }
    .page-btn {
      min-width: 28px;
      height: 28px;
      border-radius: 8px;
      border: 1px solid var(--pagination-border);
      background: var(--surface);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 12px;
      color: var(--text-main);
    }
    .page-btn.active {
      background: var(--brand-main);
      border-color: var(--brand-main);
      color: #ffffff;
      font-weight: 600;
    }
    .page-btn:hover {
      background: var(--pagination-bg-hover);
      border-color: var(--pagination-border-hover);
    }

    /* ========================= Stub ì¹´ë“œ ========================= */
    .stub-card {
      background: var(--surface);
      border-radius: 12px;
      border: 1px dashed var(--stub-border);
      padding: 32px 24px;
      text-align: center;
      color: var(--text-muted);
      font-size: 14px;
      margin-top: 8px;
    }
    .stub-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-main);
      margin-bottom: 8px;
    }
    .stub-desc {
      margin: 0;
      line-height: 1.6;
    }

    /* ========================= ìƒì„¸ ì¡°íšŒ / ë“±ë¡Â·ìˆ˜ì • ê³µí†µ ì¹´ë“œ ========================= */
    .card {
      background: var(--surface);
      border-radius: 12px;
      border: 1px solid var(--border-soft);
      padding: 18px 20px;
      margin-bottom: 16px;
    }
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 8px;
    }
    .card-title {
      font-size: 16px;
      font-weight: 600;
      margin: 0;
    }
    .meta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px 16px;
      font-size: 12px;
      color: var(--text-sub);
    }
    .meta-item-label {
      font-size: 12px;
      color: var(--text-muted);
      margin-right: 4px;
    }
    .tag-badge {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      background: var(--surface-soft);
      color: var(--brand-main-dark);
      margin-right: 4px;
    }
    .body-content {
      font-size: 13px;
      line-height: 1.7;
      color: var(--text-main);
    }
    .body-content p {
      margin: 0 0 8px 0;
    }
    .body-content ul {
      padding-left: 18px;
      margin: 6px 0;
    }

    /* ì²¨ë¶€íŒŒì¼ */
    .attachment-list {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    .attachment-list th,
    .attachment-list td {
      padding: 8px 10px;
      border-bottom: 1px solid var(--border-soft);
      text-align: left;
      white-space: nowrap;
    }
    .attachment-list th {
      background: var(--table-head-bg);
      color: var(--text-sub);
      font-size: 12px;
      font-weight: 600;
    }
    .attachment-header-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      font-size: 13px;
      color: var(--text-sub);
    }

    /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */
    .detail-bottom-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 4px;
      font-size: 13px;
    }
    .detail-prevnext {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .detail-prevnext a {
      color: var(--accent-link);
      font-size: 12px;
      cursor: pointer;
      text-decoration: underline;
      text-decoration-thickness: 0.06em;
    }

    /* ========================= ë“±ë¡/ìˆ˜ì • í¼ ========================= */
    .form-grid {
      display: grid;
      grid-template-columns: 1.1fr 2fr;
      gap: 12px 24px;
      font-size: 13px;
    }
    .form-label {
      font-size: 13px;
      font-weight: 500;
      color: var(--text-sub);
      padding-top: 8px;
    }
    .field-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .field-inline {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }
    .field-note {
      font-size: 11px;
      color: var(--text-muted);
    }
    .field-input,
    .field-select,
    .field-multiselect,
    .field-textarea {
      border-radius: 10px;
      border: 1px solid var(--border-input);
      background: #fafafc;
      font-size: 13px;
      padding: 9px 12px;
      outline: none;
      color: var(--text-main);
      width: 100%;
    }
    .field-textarea {
      min-height: 180px;
      resize: vertical;
      line-height: 1.5;
    }
    .field-input:focus,
    .field-select:focus,
    .field-multiselect:focus,
    .field-textarea:focus {
      border-color: var(--brand-main);
      box-shadow: 0 0 0 1px rgba(124, 58, 237, 0.18);
      background: #ffffff;
    }
    .radio-group {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      font-size: 13px;
    }
    .checkbox-group {
      display: flex;
      flex-wrap: wrap;
      gap: 8px 16px;
      font-size: 13px;
    }
    .chip {
      display: inline-flex;
      align-items: center;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: var(--surface-soft);
      font-size: 11px;
      color: var(--text-sub);
      margin-right: 6px;
      margin-bottom: 4px;
    }
    .upload-dropzone {
      border-radius: 12px;
      border: 1px dashed var(--border-soft);
      padding: 16px 14px;
      background: var(--surface-softer);
      font-size: 12px;
      color: var(--text-sub);
      position: relative;
    }
    .section-title-sm {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--text-main);
    }

    @media (max-width: 960px) {
      .layout {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid var(--border-soft);
      }
      .main {
        padding: 18px 14px 24px;
      }
      th, td {
        padding: 8px 8px;
      }
      .board-tabs {
        flex-wrap: wrap;
      }
      .form-grid {
        grid-template-columns: 1fr;
      }
    }

    /* ìƒë‹¨ í—¤ë” íƒ­ / ì‚¬ì´ë“œë°”: ì»¤ì„œ+í…ìŠ¤íŠ¸ ì„ íƒ ë°©ì§€ */
    .top-nav-item,
    .top-nav-item *,
    .menu-item,
    .menu-main,
    .menu-label,
    .submenu-item,
    .submenu-item::before,
    .menu-icon {
      cursor: pointer !important;
      user-select: none;
    }
  </style>

  <!-- ìœ í”ŒëŸ¬ìŠ¤ ê¸°ìˆ ì§€ì› í‹°ì¼“ ì „ìš© ìŠ¤íƒ€ì¼ -->
  <style>
    /* ========================= ìœ í”ŒëŸ¬ìŠ¤ â€“ í‹°ì¼“ ëª©ë¡ ========================= */
    .ticket-filter-card {
      margin-bottom: 10px;
    }
    .ticket-filter-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 12px 16px;
      font-size: 13px;
    }
    .ticket-filter-field {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .ticket-filter-label {
      font-size: 12px;
      font-weight: 500;
      color: var(--text-muted);
    }

    .ticket-filter-actions {
      display: flex;
      gap: 8px;
      align-items: flex-end;
      justify-content: flex-end;
    }

    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }
    .chip-filter {
      border: 1px solid var(--border-soft);
      background: var(--accent-chip-bg);
      cursor: pointer;
    }
    .chip-filter.active {
      background: var(--brand-main);
      border-color: var(--brand-main);
      color: #ffffff;
    }

    .priority-chip {
      display: inline-flex;
      align-items: center;
      border-radius: 999px;
      padding: 2px 8px;
      font-size: 11px;
      font-weight: 500;
    }
    .priority-chip.critical {
      background: #fee2e2;
      color: #b91c1c;
    }
    .priority-chip.normal {
      background: #e0f2fe;
      color: #0369a1;
    }
    .priority-chip.low {
      background: #ecfdf5;
      color: #047857;
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      border-radius: 999px;
      padding: 2px 8px;
      font-size: 11px;
      font-weight: 500;
      background: #e5e7eb;
      color: #374151;
    }
    .status-badge.state-new { /* ë¯¸ì ‘ìˆ˜ */
      background: #fef3c7;
      color: #92400e;
    }
    .status-badge.state-processing { /* ì²˜ë¦¬ ì¤‘ */
      background: #dbeafe;
      color: #1d4ed8;
    }
    .status-badge.state-waiting { /* ë‹µë³€ ëŒ€ê¸° */
      background: #e0f2fe;
      color: #075985;
    }
    .status-badge.state-deploy { /* ìˆ˜ì • ë°°í¬ ì˜ˆì • */
      background: #fef9c3;
      color: #92400e;
    }
    .status-badge.state-resolved { /* í•´ê²°ë¨ */
      background: #dcfce7;
      color: #166534;
    }
    .status-badge.state-closed { /* ì¢…ë£Œ */
      background: #e5e7eb;
      color: #4b5563;
    }

    .sla-timer {
      display: inline-flex;
      align-items: center;
      border-radius: 999px;
      padding: 2px 8px;
      font-size: 11px;
      background: #eef2ff;
      color: #111827;
      gap: 4px;
    }
    .sla-timer span {
      font-variant-numeric: tabular-nums;
    }
    .sla-timer.danger {
      background: #fef2f2;
      color: #b91c1c;
    }
    .sla-timer.paused {
      background: #e5e7eb;
      color: #6b7280;
    }

    .sla-badge-critical {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 999px;
      background: #fef2f2;
      color: #b91c1c;
      font-size: 11px;
      margin-left: 4px;
    }

    .ticket-table tbody tr {
      cursor: default;
    }
    .ticket-table .text-link[data-role="ticket-open-detail"] {
      font-weight: 500;
    }

    /* ê³ ê°ì‚¬ ë©€í‹°ì…€ë ‰íŠ¸ ë“œë¡­ë‹¤ìš´ */
    .multiselect-dropdown {
      position: relative;
    }
    .multiselect-trigger {
      width: 100%;
      padding: 9px 12px;
      border-radius: 10px;
      border: 1px solid var(--border-input);
      background: #fafafc;
      font-size: 13px;
      color: var(--text-main);
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
    }
    .multiselect-trigger span {
      pointer-events: none;
    }
    .multiselect-trigger-label {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 180px;
    }
    .multiselect-arrow {
      font-size: 10px;
      color: var(--text-muted);
    }
    .multiselect-dropdown.open .multiselect-trigger {
      border-color: var(--brand-main);
      box-shadow: 0 0 0 1px rgba(124, 58, 237, 0.18);
      background: #ffffff;
    }
    .multiselect-panel {
      position: absolute;
      top: calc(100% + 4px);
      left: 0;
      right: 0;
      z-index: 10;
      background: #ffffff;
      border-radius: 10px;
      border: 1px solid var(--border-soft);
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.15);
      padding: 8px 10px;
      max-height: 220px;
      overflow-y: auto;
      font-size: 13px;
    }
    .multiselect-dropdown:not(.open) .multiselect-panel {
      display: none;
    }
    .multiselect-option {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 4px 4px;
      border-radius: 6px;
      cursor: pointer;
    }
    .multiselect-option:hover {
      background: #f5f3ff;
    }
    .multiselect-option input[type="checkbox"] {
      margin: 0;
    }

    /* ========================= ìœ í”ŒëŸ¬ìŠ¤ â€“ í‹°ì¼“ ìƒì„¸ ========================= */
    .ticket-detail-header {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      margin-bottom: 10px;
      font-size: 13px;
      color: var(--text-sub);
    }

    .ticket-detail-layout {
      display: grid;
      grid-template-columns: minmax(340px, 1.2fr) minmax(420px, 1.8fr);
      gap: 16px;
      align-items: flex-start;
    }
    .ticket-left,
    .ticket-right {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    /* ìƒíƒœ/ìš°ì„ ìˆœìœ„/SLA ìŠ¤íŠ¸ë¦½ */
    .ticket-status-strip {
      padding: 10px 12px;
      background: #f3f4f6;
      border-radius: 12px;
      border: 1px solid var(--border-soft);
      margin: 8px 0 8px;
    }
    .ticket-status-strip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px 16px;
      align-items: center;
    }
    .ticket-status-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
    }
    .ticket-status-label {
      font-size: 11px;
      color: var(--text-muted);
    }

    /* ìš”ì•½ ì¹´ë“œ */
    .ticket-summary-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 16px;
      margin-bottom: 6px;
    }
    .ticket-summary-title {
      flex: 1;
      min-width: 0;
    }
    .ticket-summary-id {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .ticket-meta-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px 12px;
      font-size: 12px;
      margin-top: 4px;
      margin-bottom: 8px;
    }
    .ticket-meta-item {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      align-items: baseline;
    }
    .ticket-meta-item strong {
      font-size: 12px;
      color: var(--text-sub);
    }

    /* ì²˜ë¦¬ ì •ë³´ ì¹´ë“œ */
    .ticket-process-card .ticket-process-grid {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .ticket-process-field {
      display: grid;
      grid-template-columns: 96px minmax(0, 1fr);
      gap: 6px 12px;
      align-items: flex-start;
      font-size: 13px;
    }
    .ticket-process-label {
      font-size: 12px;
      font-weight: 500;
      color: var(--text-muted);
      padding-top: 6px;
    }
    .ticket-process-value {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .ticket-owner-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
    }

    .ticket-jira-box {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 4px;
    }
    .ticket-jira-url {
      flex: 1;
      font-size: 12px;
      padding: 7px 10px;
      border-radius: 8px;
      border: 1px solid var(--border-input);
      background: #fafafc;
      color: var(--text-sub);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      text-decoration: none;
    }

    .ticket-history-card {
      display: flex;
      flex-direction: column;
      max-height: 300px;
      padding: 14px 16px;
    }
    .ticket-history-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }
    .ticket-history-list {
      margin-top: 8px;
      padding-right: 4px;
      overflow-y: auto;
      flex: 1;
    }
    .message-row {
      display: flex;
      margin-bottom: 7px;
    }
    .message-row.inbound {
      justify-content: flex-start;
    }
    .message-row.outbound {
      justify-content: flex-end;
    }
    .message-bubble {
      max-width: 70%;
      border-radius: 12px;
      padding: 8px 10px;
      font-size: 13px;
      box-shadow: 0 1px 2px rgba(15, 23, 42, 0.08);
    }
    .message-row.inbound .message-bubble {
      background: #ffffff;
    }
    .message-row.outbound .message-bubble {
      background: #f3f4ff;
    }
    .message-header {
      display: flex;
      justify-content: space-between;
      gap: 6px;
      font-size: 11px;
      color: var(--text-muted);
      margin-bottom: 4px;
    }
    .message-sender {
      font-weight: 500;
      color: var(--text-sub);
    }
    .message-channel {
      font-size: 11px;
      color: var(--text-muted);
    }
    .message-body {
      font-size: 13px;
      color: var(--text-main);
      line-height: 1.5;
    }
    .message-body p {
      margin: 0 0 4px 0;
    }
    .message-attachments {
      margin-top: 4px;
      font-size: 11px;
      color: var(--text-muted);
    }
    .message-attachments .text-link {
      font-size: 11px;
    }

    .message-system {
      position: relative;
      text-align: center;
      font-size: 11px;
      color: var(--text-light);
      margin: 6px 0;
    }
    .message-system::before,
    .message-system::after {
      content: "";
      position: absolute;
      top: 50%;
      width: 34%;
      height: 1px;
      background: #e5e7eb;
    }
    .message-system::before {
      left: 0;
    }
    .message-system::after {
      right: 0;
    }

    /* ë‹µë³€ ì˜ì—­ */
    .ticket-reply-card {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .reply-row {
      display: grid;
      grid-template-columns: 80px minmax(0, 1fr);
      gap: 8px;
      align-items: flex-start;
      font-size: 13px;
    }
    .reply-label {
      font-size: 12px;
      font-weight: 500;
      color: var(--text-muted);
      padding-top: 6px;
    }
    .reply-value {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .token-input {
      min-height: 34px;
      padding: 6px 8px;
      border-radius: 8px;
      border: 1px solid var(--border-input);
      background: #fafafc;
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      align-items: center;
    }
    .token-input input {
      border: none;
      outline: none;
      background: transparent;
      font-size: 13px;
      min-width: 80px;
      flex: 1;
    }
    .token-pill {
      padding: 2px 6px;
      border-radius: 999px;
      background: #e5e7ff;
      font-size: 11px;
      color: var(--text-sub);
    }

    .reply-channel-group {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      font-size: 13px;
    }

    .reply-editor {
      min-height: 140px;
      border-radius: 10px;
      border: 1px solid var(--border-input);
      background: #fafafc;
      padding: 8px 10px;
      font-size: 13px;
      resize: vertical;
      outline: none;
    }
    .reply-editor:focus {
      border-color: var(--brand-main);
      box-shadow: 0 0 0 1px rgba(124, 58, 237, 0.18);
      background: #ffffff;
    }

    .reply-status-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px 12px;
      align-items: center;
      font-size: 12px;
      color: var(--text-sub);
    }

    .ticket-upload-dropzone {
      position: relative;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 16px 14px;
    }
    .upload-plus-btn {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      line-height: 1;
      color: var(--brand-main);
      cursor: pointer;
    }
    .upload-plus-btn:hover {
      background: #f3f4ff;
    }
    .ticket-upload-main-text {
      font-size: 12px;
      text-align: center;
    }
    .ticket-upload-sub-text {
      font-size: 11px;
      color: var(--text-muted);
      text-align: center;
    }

    .field-select-sm,
    .field-input-sm {
      padding: 6px 10px;
      font-size: 12px;
    }

    /* ë‹´ë‹¹ì ì§€ì • ëª¨ë‹¬ */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.35);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
    }
    .modal {
      width: 420px;
      max-width: calc(100% - 32px);
      background: var(--surface);
      border-radius: 14px;
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.4);
      padding: 16px 18px 14px;
    }
    /* Modal card variant used by some modals (keeps same look as .modal) */
    .modal-card {
      background: var(--surface);
      border-radius: 14px;
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.4);
      padding: 12px 14px;
      max-width: calc(100% - 32px);
      width: 720px;
    }
    /* Align modal header/body/footer with the modal card padding so contents line up */
    .modal-card .modal-header {
      padding: 12px 14px 8px 14px;
    }
    .modal-card .modal-body {
      padding: 0 14px 12px 14px;
      overflow-y: auto;
      overflow-x: hidden;
    }
    .modal-card .modal-body::-webkit-scrollbar {
      width: 8px;
    }
    .modal-card .modal-body::-webkit-scrollbar-track {
      background: transparent;
    }
    .modal-card .modal-body::-webkit-scrollbar-thumb {
      background: #d4bfff;
      border-radius: 4px;
    }
    .modal-card .modal-body::-webkit-scrollbar-thumb:hover {
      background: #c4b5fd;
    }
    .modal-card .modal-footer {
      padding: 12px 14px;
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    .modal-title {
      font-size: 15px;
      font-weight: 600;
      color: var(--text-main);
    }
    .modal-close-btn {
      border: none;
      background: transparent;
      font-size: 18px;
      line-height: 1;
      cursor: pointer;
      color: var(--text-muted);
      padding: 4px;
      border-radius: 999px;
    }
    .modal-close-btn:hover {
      background: #f3f4ff;
    }
    .modal-body {
      font-size: 13px;
      color: var(--text-main);
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 12px;
    }
    .modal-section-title {
      font-size: 12px;
      font-weight: 500;
      color: var(--text-sub);
      margin-bottom: 4px;
    }
    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-top: 4px;
    }

    @media (max-width: 1120px) {
      .ticket-filter-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .ticket-detail-layout {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 768px) {
      .ticket-filter-grid {
        grid-template-columns: 1fr;
      }
      .reply-row {
        grid-template-columns: 1fr;
      }
      .reply-label {
        padding-top: 0;
      }
      .ticket-history-card {
        max-height: none;
      }
      .ticket-summary-header {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
  <!-- í—¤ë” -->
  <header class="header">
    <div class="header-left">
      <div class="logo">ixi-O O&M</div>
      <nav class="top-nav">
        <div class="top-nav-item" data-top-label="ìƒí’ˆ ìš´ì˜">ìƒí’ˆ ìš´ì˜</div>
        <div class="top-nav-item active" data-top-label="ì„œë¹„ìŠ¤ ìš´ì˜">ì„œë¹„ìŠ¤ ìš´ì˜</div>
        <div class="top-nav-item" data-top-label="ì„œë¹„ìŠ¤ ì •ì‚°">ì„œë¹„ìŠ¤ ì •ì‚°</div>
        <div class="top-nav-item" data-top-label="ì¼ë°˜">ì¼ë°˜</div>
      </nav>
    </div>
    <div class="header-right">
      <div class="avatar">A</div>
      <span>ê´€ë¦¬ì</span>
    </div>
  </header>

  <!-- ë ˆì´ì•„ì›ƒ -->
  <div class="layout">
    <!-- ì‚¬ì´ë“œë°” -->
    <aside class="sidebar">
      <div class="sidebar-section-title" id="sidebar-title">ì„œë¹„ìŠ¤ ìš´ì˜</div>
      <ul class="menu-list" id="sidebar-menu"></ul>
    </aside>

    <!-- ë©”ì¸ -->
    <main class="main">
      <div class="breadcrumb" id="breadcrumb"></div>
      <div id="page-inner"></div>
    </main>
  </div>

  <!-- ë‹´ë‹¹ì ì§€ì •/ë³€ê²½ ëª¨ë‹¬ -->
  <div class="modal-backdrop" id="owner-modal" data-modal="owner">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">ë‹´ë‹¹ì ì§€ì •/ë³€ê²½</div>
        <button class="modal-close-btn" type="button" data-role="modal-close">Ã—</button>
      </div>
      <div class="modal-body">
        <div class="field-note" style="margin-bottom:8px;">
          í‹°ì¼“ì„ ë‹´ë‹¹í•  ìš´ì˜ìì™€ Jira ê°œë°œìë¥¼ ì„ íƒí•˜ì„¸ìš”.
        </div>
        <div class="modal-section">
          <div class="modal-section-title">ìš´ì˜ì</div>
          <div class="checkbox-group">
            <label><input type="radio" name="owner-pm" checked /> ê¹€ìš´ì˜ (í˜„ì§€ PM)</label>
            <label><input type="radio" name="owner-pm" /> ì´ì‘ëŒ€ (ìš´ì˜ì)</label>
            <label><input type="radio" name="owner-pm" /> ë°•ì§€ì› (ìš´ì˜ì)</label>
          </div>
        </div>
        <div class="modal-section">
          <div class="modal-section-title">Jira ê°œë°œì</div>
          <div class="checkbox-group">
            <label><input type="checkbox" checked /> ì •ê°œë°œ</label>
            <label><input type="checkbox" /> ìµœê°œë°œ</label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" type="button" data-role="modal-close">ì·¨ì†Œ</button>
        <button class="btn-primary" type="button" data-role="modal-save-owner">ì ìš©</button>
      </div>
    </div>
  </div>

  <script>
    /* ========================= ë©”ë‰´ êµ¬ì¡° ì •ì˜ ========================= */
    const MENU_STRUCTURE = {
      "ìƒí’ˆ ìš´ì˜": {
        "ìƒí’ˆ ê´€ë¦¬": ["ìƒí’ˆ ê¸°ì¤€ ì •ë³´"],
        "ê³ ê°ì‚¬ ê´€ë¦¬": ["ê³ ê°ì‚¬ ì •ë³´", "ê³„ì•½ ê´€ë¦¬"],
        "ëŒ€ì‹œë³´ë“œ": ["ì‚¬ì—… ì‹¤ì ", "í•™ìŠµë°ì´í„° ìˆ˜ì§‘"]
      },
      "ì„œë¹„ìŠ¤ ìš´ì˜": {
        "ì‚¬ìš©ì ê´€ë¦¬": ["ê³„ì • ê´€ë¦¬"],
        "êµ¬ë… ê´€ë¦¬": ["êµ¬ë… í˜„í™©"],
        "DevOps": ["AI ëª¨ë¸"],
        "Support Center": ["ìœ í”ŒëŸ¬ìŠ¤", "Aì‚¬", "ê³µì§€/SOP/FAQ"]
      },
      "ì„œë¹„ìŠ¤ ì •ì‚°": {
        "ì²­êµ¬/ìˆ˜ë‚©": ["ê³ ê°ì‚¬(Maxis)", "ì¶”ê°€ ê³ ê°ì‚¬(B)"]
      },
      "ì¼ë°˜": {
        "ì‹œìŠ¤í…œ": ["ë³´ì•ˆ, ì»´í”Œë¼ì´ì–¸ìŠ¤", "ì„¤ì •"]
      }
    };

    // í˜„ì¬ ê²½ë¡œ / ê²Œì‹œíŒ ìƒíƒœ
    let currentTop = "ì„œë¹„ìŠ¤ ìš´ì˜";
    let currentL2 = "Support Center";
    let currentL3 = "ê³µì§€/SOP/FAQ";

    // Support Center ê²Œì‹œíŒ ë‚´ë¶€ ìƒíƒœ
    let currentBoardType = "ê³µì§€ì‚¬í•­"; // íƒ­: ê³µì§€ì‚¬í•­ / SOP / FAQ
    let currentBoardView = "list"; // list / detail / edit
    let boardEditMode = "create"; // create / edit

    // ìµœì´ˆ ìƒíƒœ: ê²Œì‹œë¬¼ì´ ì—†ëŠ” ê²½ìš° (Empty state)
    const USER_ROLE = "admin"; // "admin" | "customer"
    let boardHasData = false;

    // ìœ í”ŒëŸ¬ìŠ¤ ê¸°ìˆ ì§€ì› í‹°ì¼“ í™”ë©´ ìƒíƒœ
    let currentTicketView = "list"; // list / detail
    let ticketHasOwner = true;      // true: ë‹´ë‹¹ì ì¡´ì¬ / false: ë¯¸ì§€ì • ì˜ˆì‹œ

    /* ========================= ìƒ˜í”Œ: ê³„ì • ê´€ë¦¬ Stub ========================= */
    const ACCOUNT_PAGE_HTML = `
      <div class="page-title">ê³„ì • ê´€ë¦¬</div>
      <div class="stub-card">
        <div class="stub-title">ê³„ì • ê´€ë¦¬ í™”ë©´ì€ ê¸°ì¡´ í…œí”Œë¦¿ ê¸°ì¤€ìœ¼ë¡œ êµ¬ì„± ì˜ˆì •ì…ë‹ˆë‹¤.</div>
        <p class="stub-desc">
          ì‚¬ìš©ì ê³„ì • ë¦¬ìŠ¤íŠ¸, ê¶Œí•œ ê·¸ë£¹, ìƒíƒœ ê´€ë¦¬ ë“±ì€ ë³„ë„ ì •ì˜ì— ë”°ë¼ ìƒì„¸ GUIë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.
        </p>
      </div>
    `;

    /* ========================= Support Center ê²Œì‹œíŒ - ëª©ë¡ í™”ë©´ ========================= */
    function getBoardListHTML(boardType) {
      const isAdmin = USER_ROLE === "admin";
      const countText = boardHasData
        ? "ì „ì²´ 123ê±´ Â· ìƒë‹¨ ê³ ì • 2ê±´"
        : "ì „ì²´ 0ê±´ Â· ìƒë‹¨ ê³ ì • 0ê±´";

      const emptyDesc = isAdmin
        ? "ìš°ì¸¡ ìƒë‹¨ì˜ [ï¼‹ ì‹ ê·œ ë“±ë¡] ë²„íŠ¼ì„ ëˆŒëŸ¬ ì²« " + boardType + "ì„(ë¥¼) ë“±ë¡í•´ ì£¼ì„¸ìš”."
        : "ë“±ë¡ëœ " + boardType + "ì´ ì—†ìŠµë‹ˆë‹¤. ê²Œì‹œê¸€ì´ ë“±ë¡ë˜ë©´ ì´ ì˜ì—­ì— ìˆœì„œëŒ€ë¡œ í‘œì‹œë©ë‹ˆë‹¤.";

      const rowsWhenData = `
        <!-- ìƒë‹¨ ê³ ì • ì˜ˆì‹œ -->
        <tr class="pinned-row">
          <td class="checkbox-cell"><input type="checkbox" /></td>
          <td>ê³µì§€-2</td>
          <td>
            <span class="sla-timer">
              <span>D-3</span>
              <span>12:00</span>
            </span>
          </td>
          <td><a href="#" class="text-link" target="_blank">UPOPS-9999</a></td>
          <td>${boardType}</td>
          <td>${boardType === "SOP" ? "ë°°í¬ ì ˆì°¨" : boardType === "FAQ" ? "ê³„ì •" : "ì‹œìŠ¤í…œ"}</td>
          <td>
            <span class="pinned-badge">ìƒë‹¨ ê³ ì •</span>
            <span class="text-link" data-role="link-detail">ì„œë¹„ìŠ¤ ì ê²€ ì•ˆë‚´ ê³µì§€ ì˜ˆì‹œ</span>
          </td>
          <td>ì „ì²´ (50)</td>
          <td>U+ Admin</td>
          <td>324</td>
          <td>2025.11.10</td>
        </tr>
        <tr class="pinned-row">
          <td class="checkbox-cell"><input type="checkbox" /></td>
          <td>ê³µì§€-1</td>
          <td>
            <span class="sla-timer">
              <span>D-5</span>
              <span>22:30</span>
            </span>
          </td>
          <td><a href="#" class="text-link" target="_blank">UPOPS-8888</a></td>
          <td>${boardType}</td>
          <td>${boardType === "SOP" ? "ì¥ì•  ëŒ€ì‘" : boardType === "FAQ" ? "ìš”ê¸ˆ" : "ë¦´ë¦¬ì¦ˆ"}</td>
          <td>
            <span class="pinned-badge">ìƒë‹¨ ê³ ì •</span>
            <span class="text-link" data-role="link-detail">ì¤‘ìš” ${boardType} ê³µì§€ ì˜ˆì‹œ ì œëª©</span>
          </td>
          <td>Maxis ì™¸ 2ê°œ</td>
          <td>ìš´ì˜íŒ€</td>
          <td>812</td>
          <td>2025.11.01</td>
        </tr>
        <!-- ì¼ë°˜ ê²Œì‹œë¬¼ ì˜ˆì‹œ -->
        <tr>
          <td class="checkbox-cell"><input type="checkbox" /></td>
          <td>10</td>
          <td>
            <span class="sla-timer">
              <span>D-7</span>
              <span>08:20</span>
            </span>
          </td>
          <td><span class="text-link" target="_blank">-</span></td>
          <td>${boardType}</td>
          <td>${boardType === "SOP" ? "ë°°í¬" : boardType === "FAQ" ? "ë¡œê·¸ì¸" : "ì¥ì• "}</td>
          <td><span class="text-link" data-role="link-detail">${boardType} ê²Œì‹œê¸€ ì œëª© ì˜ˆì‹œ 10</span></td>
          <td>Maxis</td>
          <td>í™ê¸¸ë™</td>
          <td>45</td>
          <td>2025.10.30</td>
        </tr>
        <tr>
          <td class="checkbox-cell"><input type="checkbox" /></td>
          <td>9</td>
          <td>
            <span class="sla-timer">
              <span>D-10</span>
              <span>19:55</span>
            </span>
          </td>
          <td><span style="font-size:12px; color:var(--text-light);">-</span></td>
          <td>${boardType}</td>
          <td>${boardType === "SOP" ? "ì¥ì• " : boardType === "FAQ" ? "ê¶Œí•œ" : "ì‹œìŠ¤í…œ"}</td>
          <td><span class="text-link" data-role="link-detail">${boardType} ê²Œì‹œê¸€ ì œëª© ì˜ˆì‹œ 9</span></td>
          <td>ê³ ê°ì‚¬ B ì™¸ 3ê°œ</td>
          <td>ê¹€ìœ í”Œ</td>
          <td>102</td>
          <td>2025.10.29</td>
        </tr>
      `;

      const rowsWhenEmpty = `
        <tr>
          <td class="checkbox-cell"></td>
          <td colspan="10">
            <div class="empty-state-wrap">
              <div class="empty-state">
                <div class="empty-icon">ğŸ“„</div>
                <div class="empty-title">ë“±ë¡ëœ ${boardType}ì´ ì—†ìŠµë‹ˆë‹¤.</div>
                <p class="empty-desc">${emptyDesc}</p>
              </div>
            </div>
          </td>
        </tr>
      `;

      return `
        <div class="page-title">Support Center ê²Œì‹œíŒ</div>

        <!-- ìƒë‹¨ ê²Œì‹œíŒ ì´ë™ íƒ­ -->
        <div class="board-tabs" aria-label="ê²Œì‹œíŒ ì„ íƒ íƒ­">
          <button class="board-tab ${boardType === "ê³µì§€ì‚¬í•­" ? "active" : ""}" data-board="ê³µì§€ì‚¬í•­">ê³µì§€ì‚¬í•­</button>
          <button class="board-tab ${boardType === "SOP" ? "active" : ""}" data-board="SOP">SOP</button>
          <button class="board-tab ${boardType === "FAQ" ? "active" : ""}" data-board="FAQ">FAQ</button>
        </div>

        <!-- ê²Œì‹œê¸€ ê²€ìƒ‰ -->
        <div class="board-search-row">
          <input class="board-search-input" type="text" placeholder="${boardType} ë‚´ì—ì„œ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
          <button class="btn-primary" type="button" data-role="btn-search">ê²€ìƒ‰</button>
        </div>

        <!-- ë¦¬ìŠ¤íŠ¸ ìƒë‹¨ íˆ´ë°” -->
        <div class="list-toolbar">
          <div>
            <strong>${boardType}</strong>
            <span style="margin-left:8px; color: var(--text-muted);">${countText}</span>
          </div>
          <div class="toolbar-actions">
            ${isAdmin ? '<button class="btn-dark" type="button" data-role="btn-create">ï¼‹ ì‹ ê·œ ë“±ë¡</button>' : ''}
          </div>
        </div>

        <!-- ê²Œì‹œíŒ ëª©ë¡ í…Œì´ë¸” -->
        <section class="table-wrap">
          <table>
            <thead>
              <tr>
                <th class="checkbox-cell"><input type="checkbox" ${boardHasData ? "" : "disabled"} /></th>
                <th>ë²ˆí˜¸</th>
                <th>SLA íƒ€ì´ë¨¸</th>
                <th>Jira</th>
                <th>ìœ í˜•</th>
                <th>ì¹´í…Œê³ ë¦¬</th>
                <th>ì œëª©</th>
                <th>íƒ€ê²Ÿ ê¸°ì—…(ìˆ˜)</th>
                <th>ì‘ì„±ì</th>
                <th>ì¡°íšŒìˆ˜</th>
                <th>ë“±ë¡ì¼</th>
              </tr>
            </thead>
            <tbody>
              ${boardHasData ? rowsWhenData : rowsWhenEmpty}
            </tbody>
          </table>

          <!-- í˜ì´ì§• -->
          <div class="table-footer">
            <div class="rows-per-page">
              <label>
                í˜ì´ì§€ë‹¹
                <select>
                  <option>20</option>
                  <option>50</option>
                  <option>100</option>
                </select>
                ê°œ ë³´ê¸°
              </label>
            </div>
            <div class="pagination">
              <button class="page-btn" ${boardHasData ? "" : "disabled"}>Â«</button>
              <button class="page-btn" ${boardHasData ? "" : "disabled"}>â€¹</button>
              <button class="page-btn active">1</button>
              <button class="page-btn" ${boardHasData ? "" : "disabled"}>2</button>
              <button class="page-btn" ${boardHasData ? "" : "disabled"}>3</button>
              <button class="page-btn" ${boardHasData ? "" : "disabled"}>â€º</button>
              <button class="page-btn" ${boardHasData ? "" : "disabled"}>Â»</button>
            </div>
          </div>
        </section>
      `;
    }

    /* ========================= Support Center ê²Œì‹œíŒ - ìƒì„¸ ì¡°íšŒ í™”ë©´ ========================= */
    function getBoardDetailHTML(boardType) {
      return `
        <div class="page-title">Support Center ê²Œì‹œíŒ</div>

        <!-- ìƒë‹¨ íƒ­ (ë‹¤ë¥¸ ê²Œì‹œíŒìœ¼ë¡œ ì „í™˜ ê°€ëŠ¥) -->
        <div class="board-tabs" aria-label="ê²Œì‹œíŒ ì„ íƒ íƒ­">
          <button class="board-tab ${boardType === "ê³µì§€ì‚¬í•­" ? "active" : ""}" data-board="ê³µì§€ì‚¬í•­">ê³µì§€ì‚¬í•­</button>
          <button class="board-tab ${boardType === "SOP" ? "active" : ""}" data-board="SOP">SOP</button>
          <button class="board-tab ${boardType === "FAQ" ? "active" : ""}" data-board="FAQ">FAQ</button>
        </div>

        <!-- ìƒì„¸ í—¤ë” -->
        <section class="card">
          <div class="card-header">
            <div>
              <h2 class="card-title">[${boardType}] ì˜ˆì‹œ ê²Œì‹œê¸€ ì œëª©ì…ë‹ˆë‹¤.</h2>
              <div class="meta-row">
                <span><span class="meta-item-label">ì¹´í…Œê³ ë¦¬</span>ì‹œìŠ¤í…œ ê³µì§€</span>
                <span><span class="meta-item-label">ë“±ë¡ì¼</span>2025.11.10 09:00</span>
                <span><span class="meta-item-label">ìµœì¢… ìˆ˜ì •ì¼</span>2025.11.11 14:30</span>
                <span><span class="meta-item-label">ì¡°íšŒìˆ˜</span>324</span>
              </div>
            </div>
            <div>
              <div class="section-title-sm" style="margin-bottom:4px;">ê²Œì‹œ ë²”ìœ„</div>
              <div>
                <span class="tag-badge">ì „ì²´ (50ê°œì‚¬)</span>
                <span class="tag-badge">Maxis</span>
                <span class="tag-badge">ê³ ê°ì‚¬ B</span>
              </div>
            </div>
          </div>
        </section>

        <!-- ë³¸ë¬¸ ì˜ì—­ -->
        <section class="card">
          <div class="section-title-sm">ë³¸ë¬¸</div>
          <div class="body-content">
            <p>ì„œë¹„ìŠ¤ ì ê²€ìœ¼ë¡œ ì¸í•œ ì¼ì‹œ ì¤‘ë‹¨ ì•ˆë‚´ ì˜ˆì‹œì…ë‹ˆë‹¤.</p>
            <p>ì•„ë˜ ì¼ì‹œ ë™ì•ˆ ì¼ë¶€ ê¸°ëŠ¥ ì ‘ì†ì´ ì›í™œí•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            <ul>
              <li>ì ê²€ ì¼ì‹œ: 2025-11-20(ëª©) 02:00 ~ 04:00 (KST)</li>
              <li>ì ê²€ ì˜í–¥: ëŒ€ì‹œë³´ë“œ, êµ¬ë… ê´€ë¦¬ ì¼ë¶€ ë©”ë‰´</li>
              <li>ë¬¸ì˜: Support Center ë˜ëŠ” ë‹´ë‹¹ SA</li>
            </ul>
            <p>ì ê²€ ì™„ë£Œ í›„ì—ëŠ” ë³„ë„ ê³µì§€ë¥¼ í†µí•´ ë‹¤ì‹œ ì•ˆë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>
          </div>
        </section>

        <!-- ì²¨ë¶€íŒŒì¼ ì˜ì—­ -->
        <section class="card">
          <div class="attachment-header-row">
            <div class="section-title-sm">ì²¨ë¶€íŒŒì¼</div>
            <button class="btn-secondary" type="button" data-role="btn-download-all">ì „ì²´ ë‹¤ìš´ë¡œë“œ</button>
          </div>
          <table class="attachment-list">
            <thead>
              <tr>
                <th>íŒŒì¼ëª…</th>
                <th>ìš©ëŸ‰</th>
                <th>ë‹¤ìš´ë¡œë“œ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>ì„œë¹„ìŠ¤ì ê²€_ê³µì§€_20251110.pdf</td>
                <td>1.2MB</td>
                <td><button class="btn-ghost" type="button" data-role="btn-download">ë‹¤ìš´ë¡œë“œ</button></td>
              </tr>
              <tr>
                <td>ë¦´ë¦¬ì¦ˆë…¸íŠ¸_v1.8.0.xlsx</td>
                <td>820KB</td>
                <td><button class="btn-ghost" type="button" data-role="btn-download">ë‹¤ìš´ë¡œë“œ</button></td>
              </tr>
            </tbody>
          </table>
          <p class="field-note" style="margin-top:8px;">
            â€» íŒŒì¼ëª…ì— íŠ¹ìˆ˜ë¬¸ìê°€ í¬í•¨ëœ ê²½ìš° URL ì¸ì½”ë”© ì²˜ë¦¬ í›„ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤.
          </p>
        </section>

        <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <section class="card">
          <div class="detail-bottom-nav">
            <div class="detail-prevnext">
              <span>ì´ì „ê¸€: <a data-role="link-prev">[ê³µì§€] 11ì›” ê¸°ëŠ¥ ì—…ë°ì´íŠ¸ ì•ˆë‚´</a></span>
              <span>ë‹¤ìŒê¸€: <a data-role="link-next">[ê³µì§€] 10ì›” ì •ê¸° ì ê²€ ê²°ê³¼</a></span>
            </div>
            <div class="btn-group-right">
              <button class="btn-secondary" type="button" data-role="btn-list">ëª©ë¡</button>
              <button class="btn-primary" type="button" data-role="btn-edit">ìˆ˜ì •</button>
              <button class="btn-outline-red" type="button" data-role="btn-delete">ì‚­ì œ</button>
            </div>
          </div>
        </section>
      `;
    }

    /* ========================= Support Center ê²Œì‹œíŒ - ë“±ë¡/ìˆ˜ì • í™”ë©´ ========================= */
    function getBoardEditHTML(boardType, mode) {
      const isEdit = mode === "edit";
      const title = isEdit ? "ê²Œì‹œê¸€ ìˆ˜ì •" : "ê²Œì‹œê¸€ ë“±ë¡";
      const submitLabel = isEdit ? "ìˆ˜ì •" : "ë“±ë¡";

      return `
        <div class="page-title">Support Center ê²Œì‹œíŒ</div>

        <!-- ìƒë‹¨ íƒ­ -->
        <div class="board-tabs" aria-label="ê²Œì‹œíŒ ì„ íƒ íƒ­">
          <button class="board-tab ${boardType === "ê³µì§€ì‚¬í•­" ? "active" : ""}" data-board="ê³µì§€ì‚¬í•­">ê³µì§€ì‚¬í•­</button>
          <button class="board-tab ${boardType === "SOP" ? "active" : ""}" data-board="SOP">SOP</button>
          <button class="board-tab ${boardType === "FAQ" ? "active" : ""}" data-board="FAQ">FAQ</button>
        </div>

        <section class="card">
          <div class="card-header" style="margin-bottom:16px;">
            <h2 class="card-title">${title}</h2>
          </div>

          <!-- í¼ ë³¸ë¬¸ -->
          <div class="form-grid">
            <!-- 1. ê¸°ë³¸ ì •ë³´ ì„¤ì • -->
            <div class="form-label">ê¸°ë³¸ ì •ë³´</div>
            <div class="field-group">
              <div class="field-inline">
                <span class="meta-item-label">ê²Œì‹œê¸€ ìœ í˜•</span>
                <div class="radio-group">
                  <label><input type="radio" name="post-type" value="ê³µì§€ì‚¬í•­" ${boardType === "ê³µì§€ì‚¬í•­" ? "checked" : ""} /> ê³µì§€ì‚¬í•­</label>
                  <label><input type="radio" name="post-type" value="SOP" ${boardType === "SOP" ? "checked" : ""} /> SOP</label>
                  <label><input type="radio" name="post-type" value="FAQ" ${boardType === "FAQ" ? "checked" : ""} /> FAQ</label>
                </div>
              </div>

              <div class="field-inline">
                <span class="meta-item-label">ì¹´í…Œê³ ë¦¬</span>
                <select class="field-select">
                  <option>ì„ íƒí•˜ì„¸ìš”</option>
                  <option>ì‹œìŠ¤í…œ</option>
                  <option>ë°°í¬</option>
                  <option>ê³„ì •</option>
                  <option>ì¥ì• </option>
                  <option>ê¸°íƒ€</option>
                </select>
              </div>

              <div class="field-inline">
                <label>
                  <input type="checkbox" ${isEdit ? "checked" : ""} /> ìƒë‹¨ ê³ ì •
                </label>
                <span class="field-note">ì²´í¬ ì‹œ ë¦¬ìŠ¤íŠ¸ ìµœìƒë‹¨ì— ê³ ì • ë…¸ì¶œë©ë‹ˆë‹¤.</span>
              </div>
            </div>

            <!-- 2. ê³µê°œ ëŒ€ìƒ ì„¤ì • -->
            <div class="form-label">ê³µê°œ ëŒ€ìƒ (Targeting)</div>
            <div class="field-group">
              <select class="field-multiselect" multiple size="4">
                <option>ì „ì²´ (ëª¨ë“  ê¸°ì—…)</option>
                <option>Maxis</option>
                <option>ê³ ê°ì‚¬ B</option>
                <option>ê³ ê°ì‚¬ C</option>
                <option>ë‚´ë¶€ ì „ìš© (U+Only)</option>
              </select>
              <span class="field-note">
                íŠ¹ì • ê¸°ì—… ì—¬ëŸ¬ ê°œ ì„ íƒ ê°€ëŠ¥. ì„ íƒëœ ê¸°ì—…ë§Œ ê²Œì‹œê¸€ ì¡°íšŒê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
              </span>
            </div>

            <!-- 3. ì»¨í…ì¸  ì‘ì„± -->
            <div class="form-label">ì»¨í…ì¸  ì‘ì„±</div>
            <div class="field-group">
              <input class="field-input" type="text" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš” (ìµœëŒ€ 100ì)" />
              <textarea class="field-textarea" placeholder="ë³¸ë¬¸ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”. ì´ë¯¸ì§€ ë¶™ì—¬ë„£ê¸°ë¥¼ ì§€ì›í•©ë‹ˆë‹¤."></textarea>
              <div class="upload-dropzone">
                <div style="font-weight:500; margin-bottom:4px;">íŒŒì¼ ì²¨ë¶€</div>
                <div>ì—¬ê¸°ì— íŒŒì¼ì„ Drag & Drop í•˜ê±°ë‚˜, í´ë¦­í•˜ì—¬ íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”.</div>
                <div class="field-note" style="margin-top:4px;">
                  ê°œë³„ íŒŒì¼ ìµœëŒ€ 50MB, ì „ì²´ 200MBê¹Œì§€ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                </div>
              </div>
            </div>
          </div>

          <!-- í•˜ë‹¨ ë²„íŠ¼ -->
          <div class="btn-group-right">
            <button class="btn-secondary" type="button" data-role="btn-cancel">ì·¨ì†Œ</button>
            <button class="btn-secondary" type="button" data-role="btn-draft">ì„ì‹œì €ì¥</button>
            <button class="btn-primary" type="button" data-role="btn-submit">${submitLabel}</button>
          </div>
        </section>
      `;
    }

    /* ========================= ìœ í”ŒëŸ¬ìŠ¤ â€“ í‹°ì¼“ ëª©ë¡ í™”ë©´ ========================= */
    function getUplusTicketListHTML() {
      return `
        <div class="page-title">ê¸°ìˆ ì§€ì› í‹°ì¼“ â€“ ìœ í”ŒëŸ¬ìŠ¤</div>

        <!-- í•„í„° ì˜ì—­ -->
        <section class="card ticket-filter-card">
          <div class="ticket-filter-grid">
            <div class="ticket-filter-field">
              <div class="ticket-filter-label">ê³ ê°ì‚¬</div>
              <div class="multiselect-dropdown" data-role="ticket-filter-customer-dropdown">
                <button type="button" class="multiselect-trigger">
                  <span class="multiselect-trigger-label" data-role="ticket-filter-customer-label">ì „ì²´(ëª¨ë“  ê³ ê°ì‚¬)</span>
                  <span class="multiselect-arrow">â–¾</span>
                </button>
                <div class="multiselect-panel">
                  <label class="multiselect-option">
                    <input type="checkbox" value="all" data-role="ticket-filter-customer" checked />
                    <span>ì „ì²´(ëª¨ë“  ê³ ê°ì‚¬)</span>
                  </label>
                  <label class="multiselect-option">
                    <input type="checkbox" value="maxis" data-role="ticket-filter-customer" />
                    <span>Maxis</span>
                  </label>
                  <label class="multiselect-option">
                    <input type="checkbox" value="custA" data-role="ticket-filter-customer" />
                    <span>ê³ ê°ì‚¬ A</span>
                  </label>
                  <label class="multiselect-option">
                    <input type="checkbox" value="custB" data-role="ticket-filter-customer" />
                    <span>ê³ ê°ì‚¬ B</span>
                  </label>
                  <label class="multiselect-option">
                    <input type="checkbox" value="custC" data-role="ticket-filter-customer" />
                    <span>ê³ ê°ì‚¬ C</span>
                  </label>
                </div>
              </div>
              <span class="field-note">ì—¬ëŸ¬ ê³ ê°ì‚¬ë¥¼ ë™ì‹œì— ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>
            </div>

            <div class="ticket-filter-field">
              <div class="ticket-filter-label">ìƒíƒœ</div>
              <select class="field-select" data-role="ticket-filter-status-select">
                <option value="all">ì „ì²´</option>
                <option value="unassigned">ë¯¸í• ë‹¹</option>
                <option value="progress">ì§„í–‰ ì¤‘</option>
                <option value="waiting">ë‹µë³€ ëŒ€ê¸°</option>
                <option value="resolved">í•´ê²°ë¨</option>
                <option value="closed">ì¢…ë£Œ</option>
              </select>
            </div>

            <div class="ticket-filter-field">
              <div class="ticket-filter-label">ìš°ì„ ìˆœìœ„</div>
              <select class="field-select" data-role="ticket-filter-priority-select">
                <option value="all">ì „ì²´</option>
                <option value="critical">Critical</option>
                <option value="normal">Normal</option>
                <option value="low">Low</option>
              </select>
            </div>

            <div class="ticket-filter-field">
              <div class="ticket-filter-label">ë‹´ë‹¹ì</div>
              <select class="field-select">
                <option value="mine">ë‚´ ë‹´ë‹¹ í‹°ì¼“ë§Œ</option>
                <option value="unassigned">ë¯¸ë°°ì • í‹°ì¼“ë§Œ</option>
                <option value="all">ì „ì²´</option>
              </select>
            </div>
          </div>
        </section>

        <!-- ë¦¬ìŠ¤íŠ¸ ìƒë‹¨ íˆ´ë°” -->
        <div class="list-toolbar">
          <div>
            <strong>ì „ì²´ 38ê±´</strong>
            <span style="margin-left:8px; color: var(--text-muted);">
              SLA ì„ë°•
              <span class="sla-badge-critical">Critical 3ê±´</span>
            </span>
          </div>
          <div class="toolbar-actions">
            <input
              type="text"
              class="ticket-search-input"
              data-role="ticket-search-input"
              placeholder="í‹°ì¼“ ID, ì œëª©, ê³ ê°ì‚¬/ë‹´ë‹¹ì ê²€ìƒ‰"
            />
            <button class="btn-secondary" type="button" data-role="btn-refresh-ticket">ìƒˆë¡œê³ ì¹¨</button>
          </div>
        </div>

        <!-- í‹°ì¼“ ëª©ë¡ í…Œì´ë¸” -->
        <section class="table-wrap">
          <table class="ticket-table">
            <thead>
              <tr>
                <th class="checkbox-cell"><input type="checkbox" /></th>
                <th>Ticket ID</th>
                <th>SLA íƒ€ì´ë¨¸</th>
                <th>Jira</th>
                <th>ìƒíƒœ</th>
                <th>ìš°ì„ ìˆœìœ„</th>
                <th>ì œëª©</th>
                <th>ê³ ê°ì‚¬</th>
                <th>ë‹´ë‹¹ì</th>
                <th>ìµœì¢… ì—…ë°ì´íŠ¸</th>
                <th>ì•¡ì…˜</th>
              </tr>
            </thead>
            <tbody>
              <!-- Critical, ì²˜ë¦¬ ì¤‘ ì˜ˆì‹œ -->
              <tr data-status="processing" data-priority="critical" data-owner="assigned">
                <td class="checkbox-cell"><input type="checkbox" /></td>
                <td>U-1023</td>
                <td>
                  <span class="sla-timer danger">
                    <span>D-0</span>
                    <span>01:12</span>
                  </span>
                </td>
                <td><a href="#" class="text-link" target="_blank">UPOPS-2345</a></td>
                <td><span class="status-badge state-processing">ì²˜ë¦¬ ì¤‘</span></td>
                <td><span class="priority-chip critical">Critical</span></td>
                <td>
                  <span class="text-link" data-role="ticket-open-detail">
                    [Prod] í†µí™” ë…¹ìŒ íŒŒì¼ì´ ê°„í—ì ìœ¼ë¡œ ëˆ„ë½ë˜ëŠ” ì´ìŠˆ
                  </span>
                </td>
                <td>LG U+</td>
                <td>ê¹€ìš´ì˜ (í˜„ì§€ PM)</td>
                <td>2025.11.30 13:20</td>
                <td>
                  <button class="btn-ghost" type="button" data-role="ticket-assign-me" disabled>í• ë‹¹ë¨</button>
                </td>
              </tr>

              <!-- ë¯¸ì ‘ìˆ˜ (ë‹´ë‹¹ì ì—†ìŒ) ì˜ˆì‹œ -->
              <tr data-status="new" data-priority="normal" data-owner="unassigned">
                <td class="checkbox-cell"><input type="checkbox" /></td>
                <td>U-1024</td>
                <td>
                  <span class="sla-timer">
                    <span>D-1</span>
                    <span>05:20</span>
                  </span>
                </td>
                <td><span style="font-size:12px; color:var(--text-light);">ë¯¸ì—°ë™</span></td>
                <td><span class="status-badge state-new">ë¯¸ì ‘ìˆ˜</span></td>
                <td><span class="priority-chip normal">Normal</span></td>
                <td>
                  <span class="text-link" data-role="ticket-open-detail">
                    [Stg] ëŒ€ì‹œë³´ë“œ ì ‘ì† ì‹œ ì˜¤ë¥˜ í˜ì´ì§€ ë…¸ì¶œ
                  </span>
                </td>
                <td>LG U+</td>
                <td>-</td>
                <td>2025.11.30 09:05</td>
                <td>
                  <button class="btn-ghost" type="button" data-role="ticket-assign-me">ë‚˜ì—ê²Œ í• ë‹¹</button>
                </td>
              </tr>

              <!-- ë‹µë³€ ëŒ€ê¸° (SLA ì¼ì‹œì •ì§€) ì˜ˆì‹œ -->
              <tr data-status="waiting" data-priority="normal" data-owner="assigned">
                <td class="checkbox-cell"><input type="checkbox" /></td>
                <td>U-1018</td>
                <td>
                  <span class="sla-timer paused">
                    <span>SLA ì¼ì‹œ ì •ì§€</span>
                  </span>
                </td>
                <td><a href="#" class="text-link" target="_blank">UPOPS-2299</a></td>
                <td><span class="status-badge state-waiting">ë‹µë³€ ëŒ€ê¸°</span></td>
                <td><span class="priority-chip normal">Normal</span></td>
                <td>
                  <span class="text-link" data-role="ticket-open-detail">
                    [Prod] ì½œ ë°±ì‹  ì˜¤íƒ ì‹ ê³  ê´€ë ¨ ì¶”ê°€ ë¡œê·¸ ìš”ì²­
                  </span>
                </td>
                <td>LG U+</td>
                <td>ì´ì‘ëŒ€</td>
                <td>2025.11.29 18:40</td>
                <td>
                  <button class="btn-ghost" type="button" data-role="ticket-assign-me" disabled>í• ë‹¹ë¨</button>
                </td>
              </tr>

              <!-- í•´ê²°ë¨ ì˜ˆì‹œ -->
              <tr data-status="resolved" data-priority="low" data-owner="assigned">
                <td class="checkbox-cell"><input type="checkbox" /></td>
                <td>U-1001</td>
                <td>
                  <span class="sla-timer">
                    <span>ì¢…ë£Œ ì˜ˆì •</span>
                  </span>
                </td>
                <td><a href="#" class="text-link" target="_blank">UPOPS-2101</a></td>
                <td><span class="status-badge state-resolved">í•´ê²°ë¨</span></td>
                <td><span class="priority-chip low">Low</span></td>
                <td>
                  <span class="text-link" data-role="ticket-open-detail">
                    [Prod] ì•Œë¦¼ ë©”ì¼ ì œëª© ì˜¤íƒ€ ìˆ˜ì • ìš”ì²­
                  </span>
                </td>
                <td>LG U+</td>
                <td>ë°•ì§€ì›</td>
                <td>2025.11.25 11:10</td>
                <td>
                  <button class="btn-ghost" type="button" data-role="ticket-assign-me" disabled>í• ë‹¹ë¨</button>
                </td>
              </tr>
            </tbody>
          </table>

          <!-- í˜ì´ì§• -->
          <div class="table-footer">
            <div class="rows-per-page">
              <label>
                í˜ì´ì§€ë‹¹
                <select>
                  <option>20</option>
                  <option>50</option>
                  <option>100</option>
                </select>
                ê°œ ë³´ê¸°
              </label>
            </div>
            <div class="pagination">
              <button class="page-btn">Â«</button>
              <button class="page-btn">â€¹</button>
              <button class="page-btn active">1</button>
              <button class="page-btn">2</button>
              <button class="page-btn">3</button>
              <button class="page-btn">â€º</button>
              <button class="page-btn">Â»</button>
            </div>
          </div>
        </section>
      `;
    }

    /* ========================= ìœ í”ŒëŸ¬ìŠ¤ â€“ í‹°ì¼“ ìƒì„¸ í™”ë©´ ========================= */
    function getUplusTicketDetailHTML(hasOwner = true) {
      const ownerSectionHTML = hasOwner
        ? `
          <div class="ticket-owner-chips">
            <span class="chip">ê¹€ìš´ì˜ (í˜„ì§€ PM)</span>
            <span class="chip">ì •ê°œë°œ (Jira ê°œë°œì)</span>
            <button class="btn-ghost" type="button" data-role="ticket-assign-popup">ë³€ê²½/ì¶”ê°€</button>
          </div>
        `
        : `
          <button class="btn-secondary" type="button" data-role="ticket-assign-popup">ë‹´ë‹¹ì ì§€ì •</button>
          <span class="field-note">ë‹´ë‹¹ì ì§€ì • í›„ SLA ì¹´ìš´íŠ¸ê°€ ì‹œì‘ë©ë‹ˆë‹¤.</span>
        `;

      return `
        <div class="ticket-detail-header">
          <div class="btn-group-right" style="margin-top:0;">
            <button class="btn-secondary" type="button" data-role="ticket-back">ëª©ë¡ìœ¼ë¡œ</button>
          </div>
        </div>

        <section class="ticket-detail-layout">
          <!-- ì¢Œì¸¡ íŒ¨ë„: í‹°ì¼“ ì •ë³´ -->
          <div class="ticket-left">
            <!-- ìš”ì•½ ì¹´ë“œ (í‹°ì¼“ëª…/ID + ìƒíƒœ/ìš°ì„ ìˆœìœ„/SLA + ê³ ê° ìš”ì•½) -->
            <section class="card ticket-summary-card">
              <div class="ticket-summary-header">
                <div class="ticket-summary-title">
                  <h2 class="card-title">[Prod] í†µí™” ë…¹ìŒ íŒŒì¼ì´ ê°„í—ì ìœ¼ë¡œ ëˆ„ë½ë˜ëŠ” ì´ìŠˆ</h2>
                  <div class="ticket-summary-id">Ticket ID U-1023 Â· LG U+</div>
                </div>
              </div>

              <!-- ìƒíƒœ / ìš°ì„ ìˆœìœ„ / SLA ìŠ¤íŠ¸ë¦½ (í‹°ì¼“ëª…/ID ì•„ë˜, ê³ ê° ìš”ì•½ ìœ„) -->
              <div class="ticket-status-strip">
                <div class="ticket-status-strip-row">
                  <div class="ticket-status-item">
                    <div class="ticket-status-label">ìƒíƒœ</div>
                    <span class="status-badge state-processing">ì²˜ë¦¬ ì¤‘</span>
                  </div>
                  <div class="ticket-status-item">
                    <div class="ticket-status-label">ìš°ì„ ìˆœìœ„</div>
                    <span class="priority-chip critical">Critical</span>
                  </div>
                  <div class="ticket-status-item">
                    <div class="ticket-status-label">SLA</div>
                    <span class="sla-timer danger">
                      <span>D-0</span>
                      <span>01:12</span>
                    </span>
                  </div>
                </div>
              </div>

              <!-- ê³ ê° ìš”ì•½ ì˜ì—­ -->
              <div class="ticket-meta-grid">
                <div class="ticket-meta-item">
                  <span class="meta-item-label">ìš”ì²­ì</span>
                  <span>í™ê¸¸ë™ (CSíŒ€)</span>
                </div>
                <div class="ticket-meta-item">
                  <span class="meta-item-label">ê³ ê°ì‚¬</span>
                  <span>LG U+</span>
                </div>
                <div class="ticket-meta-item">
                  <span class="meta-item-label">ì—°ë½ì²˜</span>
                  <span>010-1234-5678</span>
                </div>
                <div class="ticket-meta-item">
                  <span class="meta-item-label">ì±„ë„</span>
                  <span>ì´ë©”ì¼ ë¬¸ì˜</span>
                </div>
                <div class="ticket-meta-item">
                  <span class="meta-item-label">ë“±ë¡ì¼</span>
                  <span>2025.11.29 22:10</span>
                </div>
                <div class="ticket-meta-item">
                  <span class="meta-item-label">ìµœì¢… ì—…ë°ì´íŠ¸</span>
                  <span>2025.11.30 13:20</span>
                </div>
              </div>
              <div class="ticket-meta-item">
                <span class="meta-item-label">ìµœê·¼ ë¬¸ì˜ ì´ë ¥</span>
                <span class="text-link" style="font-size:12px;" data-role="btn-show-recent-inquiries">ìµœê·¼ 5ê±´ ë¬¸ì˜ ì´ë ¥ ë³´ê¸°</span>
              </div>
            </section>

            <!-- ê³ ê° ë¬¸ì˜ ì´ë ¥ íŒì—… (ëª¨ë‹¬) -->
            <div class="modal-backdrop" id="modal-recent-inquiries" style="display:none;">
              <div class="modal-card" style="width:720px; max-width:calc(100% - 32px);">
                <div class="modal-header">
                  <h3 style="margin:0;">ê³ ê° ë¬¸ì˜ ì´ë ¥</h3>
                </div>
                <div class="modal-body" style="padding:8px 12px; max-height:480px; overflow:auto;">
                  <table class="ticket-history-table" style="width:100%; border-collapse:collapse; font-size:13px;">
                    <thead>
                      <tr>
                        <th style="text-align:left; padding:8px;">ID</th>
                        <th style="text-align:left; padding:8px;">ìƒíƒœ</th>
                        <th style="text-align:left; padding:8px;">ì¹´í…Œê³ ë¦¬</th>
                        <th style="text-align:left; padding:8px;">ì œëª©</th>
                        <th style="text-align:left; padding:8px;">ë‹´ë‹¹ì</th>
                        <th style="text-align:left; padding:8px;">ë“±ë¡ì¼</th>
                      </tr>
                    </thead>
                    <tbody id="recent-inquiries-body">
                      <!-- sample rows for initial view (will be replaced by JS when opened) -->
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-1022</a></td>
                        <td style="padding:8px;">í•´ê²°ë¨</td>
                        <td style="padding:8px;">í†µí™”</td>
                        <td style="padding:8px;">í†µí™” ë…¹ìŒ íŒŒì¼ì´ ì¬ìƒë˜ì§€ ì•ŠìŒ</td>
                        <td style="padding:8px;">ë°•ì§€ì›</td>
                        <td style="padding:8px;">2025-11-28</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-1019</a></td>
                        <td style="padding:8px;">ë‹µë³€ ëŒ€ê¸°</td>
                        <td style="padding:8px;">ë¡œê·¸</td>
                        <td style="padding:8px;">ì˜¤ë¥˜ ë¡œê·¸ ì¶”ê°€ ìš”ì²­</td>
                        <td style="padding:8px;">ì´ì‘ëŒ€</td>
                        <td style="padding:8px;">2025-11-27</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-1015</a></td>
                        <td style="padding:8px;">ì²˜ë¦¬ ì¤‘</td>
                        <td style="padding:8px;">ì„¤ì •</td>
                        <td style="padding:8px;">ì„¤ì • ë³€ê²½ ìš”ì²­</td>
                        <td style="padding:8px;">ê¹€ìš´ì˜</td>
                        <td style="padding:8px;">2025-11-24</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-1008</a></td>
                        <td style="padding:8px;">ë¯¸ì ‘ìˆ˜</td>
                        <td style="padding:8px;">ì¸ì¦</td>
                        <td style="padding:8px;">ì¸ì¦ ì˜¤ë¥˜ ë°œìƒ</td>
                        <td style="padding:8px;">-</td>
                        <td style="padding:8px;">2025-11-20</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-0999</a></td>
                        <td style="padding:8px;">ì¢…ë£Œ</td>
                        <td style="padding:8px;">ëŒ€ì‹œë³´ë“œ</td>
                        <td style="padding:8px;">ëŒ€ì‹œë³´ë“œ ì ‘ì† ì†ë„ ì €í•˜</td>
                        <td style="padding:8px;">ì •ê°œë°œ</td>
                        <td style="padding:8px;">2025-11-18</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-0992</a></td>
                        <td style="padding:8px;">í•´ê²°ë¨</td>
                        <td style="padding:8px;">ì•Œë¦¼</td>
                        <td style="padding:8px;">ì•Œë¦¼ ë©”ì¼ ì œëª© ì˜¤íƒ€ ìˆ˜ì • ìš”ì²­</td>
                        <td style="padding:8px;">ë°•ì§€ì›</td>
                        <td style="padding:8px;">2025-11-14</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-0985</a></td>
                        <td style="padding:8px;">ì²˜ë¦¬ ì¤‘</td>
                        <td style="padding:8px;">í†µí™”</td>
                        <td style="padding:8px;">í†µí™” ì—°ê²° ì‹œê°„ ì´ˆê³¼ ë¬¸ì œ</td>
                        <td style="padding:8px;">ê¹€ìš´ì˜</td>
                        <td style="padding:8px;">2025-11-10</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-0978</a></td>
                        <td style="padding:8px;">ë¯¸ì ‘ìˆ˜</td>
                        <td style="padding:8px;">ì„¤ì •</td>
                        <td style="padding:8px;">API í‚¤ ì¬ë°œê¸‰ ìš”ì²­</td>
                        <td style="padding:8px;">-</td>
                        <td style="padding:8px;">2025-11-08</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-0971</a></td>
                        <td style="padding:8px;">ë‹µë³€ ëŒ€ê¸°</td>
                        <td style="padding:8px;">ë¡œê·¸</td>
                        <td style="padding:8px;">ë°ì´í„° ë™ê¸°í™” ë¡œê·¸ í™•ì¸ ìš”ì²­</td>
                        <td style="padding:8px;">ì´ì‘ëŒ€</td>
                        <td style="padding:8px;">2025-11-05</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-0964</a></td>
                        <td style="padding:8px;">í•´ê²°ë¨</td>
                        <td style="padding:8px;">ì¸ì¦</td>
                        <td style="padding:8px;">ë‹¤ì¤‘ ì¸ì¦ ì„¤ì • ì™„ë£Œ</td>
                        <td style="padding:8px;">ì •ê°œë°œ</td>
                        <td style="padding:8px;">2025-11-02</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-0957</a></td>
                        <td style="padding:8px;">ì¢…ë£Œ</td>
                        <td style="padding:8px;">ëŒ€ì‹œë³´ë“œ</td>
                        <td style="padding:8px;">ì‚¬ìš©ì ê¶Œí•œ ì„¤ì • ë¬¸ì˜</td>
                        <td style="padding:8px;">ë°•ì§€ì›</td>
                        <td style="padding:8px;">2025-10-30</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-0950</a></td>
                        <td style="padding:8px;">ì²˜ë¦¬ ì¤‘</td>
                        <td style="padding:8px;">í†µí™”</td>
                        <td style="padding:8px;">ë…¹ìŒ íŒŒì¼ ì €ì¥ì†Œ ìš©ëŸ‰ ì´ˆê³¼</td>
                        <td style="padding:8px;">ê¹€ìš´ì˜</td>
                        <td style="padding:8px;">2025-10-28</td>
                      </tr>
                      <tr>
                        <td style="padding:8px;"><a href="#" class="text-link" target="_blank">U-0943</a></td>
                        <td style="padding:8px;">í•´ê²°ë¨</td>
                        <td style="padding:8px;">ì„¤ì •</td>
                        <td style="padding:8px;">ì½œë°± URL ì„¤ì • ë¬¸ì˜</td>
                        <td style="padding:8px;">ì •ê°œë°œ</td>
                        <td style="padding:8px;">2025-10-25</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="modal-footer" style="display:flex; justify-content:center; gap:8px; padding:12px 16px;">
                  <button class="btn-secondary" type="button" data-role="modal-close-recent-inquiries">ë‹«ê¸°</button>
                </div>
              </div>
            </div>

            <!-- ì²˜ë¦¬ ì •ë³´ ì¹´ë“œ -->
            <section class="card ticket-process-card">
              <div class="section-title-sm">ì²˜ë¦¬ ì •ë³´</div>
              <div class="ticket-process-grid">
                <!-- í‹°ì¼“ ìƒíƒœ ê´€ë¦¬ -->
                <div class="ticket-process-field">
                  <div class="ticket-process-label">í‹°ì¼“ ìƒíƒœ ê´€ë¦¬</div>
                  <div class="ticket-process-value">
                    <select class="field-select field-select-sm">
                      <option>ë¯¸ì ‘ìˆ˜</option>
                      <option selected>ì²˜ë¦¬ ì¤‘</option>
                      <option>ë‹µë³€ ëŒ€ê¸°</option>
                      <option>ìˆ˜ì • ë°°í¬ ì˜ˆì •</option>
                      <option>í•´ê²°ë¨</option>
                      <option>ì¢…ë£Œ</option>
                    </select>
                  </div>
                </div>

                <!-- ë‹´ë‹¹ì -->
                <div class="ticket-process-field">
                  <div class="ticket-process-label">ë‹´ë‹¹ì</div>
                  <div class="ticket-process-value">
                    ${ownerSectionHTML}
                  </div>
                </div>

                <!-- Jira ì´ìŠˆ ì—°ë™ -->
                <div class="ticket-process-field">
                  <div class="ticket-process-label">Jira ì´ìŠˆ ì—°ë™</div>
                  <div class="ticket-process-value">
                    <div class="ticket-jira-box">
                      <a
                        href="https://jira.example.com/browse/UPOPS-2345"
                        class="ticket-jira-url"
                        target="_blank"
                        rel="noreferrer"
                      >
                        https://jira.example.com/browse/UPOPS-2345
                      </a>
                      <button class="btn-secondary" type="button" data-role="ticket-edit-jira">ìˆ˜ì •</button>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>

          <!-- ìš°ì¸¡ íŒ¨ë„: íˆìŠ¤í† ë¦¬ + ë‹µë³€ -->
          <div class="ticket-right">
            <!-- ë‹µë³€ íˆìŠ¤í† ë¦¬ -->
            <section class="card ticket-history-card">
              <div class="ticket-history-header">
                <div class="section-title-sm" style="margin-bottom:0;">ë‹µë³€ íˆìŠ¤í† ë¦¬</div>
              </div>
              <div class="ticket-history-list">
                <!-- Inbound 1 -->
                <div class="message-row inbound">
                  <div class="message-bubble">
                    <div class="message-header">
                      <span class="message-sender">í™ê¸¸ë™ (ìš”ì²­ì)</span>
                      <span class="message-channel">2025-11-29 22:10 Â· Email</span>
                    </div>
                    <div class="message-body">
                      <p>ì•ˆë…•í•˜ì„¸ìš”. ì¼ë¶€ ê³ ê° í†µí™”ì—ì„œ ë…¹ìŒ íŒŒì¼ì´ ëˆ„ë½ë˜ëŠ” ì‚¬ë¡€ê°€ ìˆì–´ì„œ ë¬¸ì˜ë“œë¦½ë‹ˆë‹¤.</p>
                      <p>íŠ¹íˆ ì•¼ê°„ ì‹œê°„ëŒ€(22ì‹œ~01ì‹œ)ì— ì§‘ì¤‘ë˜ëŠ” ê²ƒ ê°™ê³ , Android 13 ê¸°ê¸°ì—ì„œ ë§ì´ ë°œìƒí•©ë‹ˆë‹¤.</p>
                    </div>
                  </div>
                </div>

                <!-- Outbound 1: ì²˜ë¦¬ ì¤‘ ì•ˆë‚´ -->
                <div class="message-row outbound">
                  <div class="message-bubble">
                    <div class="message-header">
                      <span class="message-sender">ê¹€ìš´ì˜ (í˜„ì§€ PM)</span>
                      <span class="message-channel">2025-11-29 22:40 Â· Email</span>
                    </div>
                    <div class="message-body">
                      <p>ì•ˆë…•í•˜ì„¸ìš”, í™ê¸¸ë™ë‹˜. ì œë³´ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.</p>
                      <p>í˜„ì¬ ê´€ë ¨ ë¡œê·¸ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ë¶„ì„ ì¤‘ì´ë©°, ì¬í˜„ ì¡°ê±´ ë° ì˜í–¥ ë²”ìœ„ë¥¼ ìš°ì„  íŒŒì•…í•˜ê² ìŠµë‹ˆë‹¤.</p>
                    </div>
                    <div class="message-attachments">
                      ì²¨ë¶€: <span class="text-link">call-log-sample-20251129.csv</span>
                    </div>
                  </div>
                </div>

                <!-- ì‹œìŠ¤í…œ ë©”ì‹œì§€: Jira ë“±ë¡ -->
                <div class="message-system">
                  Jira í‹°ì¼“(UPOPS-2345)ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤. (2025-11-29 23:05)
                </div>

                <!-- Outbound 2: ì¶”ê°€ ë¡œê·¸ ìš”ì²­ (ë‹µë³€ ëŒ€ê¸° ì „ ë‹¨ê³„) -->
                <div class="message-row outbound">
                  <div class="message-bubble">
                    <div class="message-header">
                      <span class="message-sender">ê¹€ìš´ì˜ (í˜„ì§€ PM)</span>
                      <span class="message-channel">2025-11-30 00:15 Â· Email + SMS</span>
                    </div>
                    <div class="message-body">
                      <p>ì¶”ê°€ ë¶„ì„ì„ ìœ„í•´ ë¬¸ì œê°€ ë°œìƒí•œ ë‹¨ë§ ê¸°ì¤€ì˜ ì½œ ë¡œê·¸ íŒŒì¼ì„ ê³µìœ  ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
                      <p>ê°€ëŠ¥í•˜ì‹œë‹¤ë©´, ë°œìƒ ì‹œê°„ëŒ€ì™€ ë‹¨ë§ ëª¨ë¸ ì •ë³´ë„ í•¨ê»˜ ì „ë‹¬í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.</p>
                    </div>
                  </div>
                </div>

                <!-- ì‹œìŠ¤í…œ ë©”ì‹œì§€: ë‹´ë‹¹ì ë³€ê²½ -->
                <div class="message-system">
                  ë‹´ë‹¹ìê°€ ì •ê°œë°œ(Jira ê°œë°œì)ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. (2025-11-30 00:20)
                </div>
              </div>
            </section>

            <!-- ë‹µë³€ ì‘ì„± ì˜ì—­ -->
            <section class="card ticket-reply-card">
              <div class="section-title-sm">ë‹µë³€ ì‘ì„±</div>

              <!-- ìˆ˜ì‹ ì -->
              <div class="reply-row">
                <div class="reply-label">ìˆ˜ì‹ ì (To)</div>
                <div class="reply-value">
                  <div class="token-input">
                    <span class="token-pill">honggildong@example.com</span>
                    <input type="text" placeholder="ì´ë©”ì¼ ë˜ëŠ” ì „í™”ë²ˆí˜¸ ì…ë ¥ í›„ Enter" />
                  </div>
                  <span class="field-note">ìš”ì²­ì ê¸°ë³¸ ì—°ë½ì²˜ê°€ ìë™ìœ¼ë¡œ ì„¸íŒ…ë©ë‹ˆë‹¤.</span>
                </div>
              </div>

              <!-- CC -->
              <div class="reply-row">
                <div class="reply-label">ì°¸ì¡°ì (CC)</div>
                <div class="reply-value">
                  <div class="token-input">
                    <input type="text" placeholder="ë™ë£Œ ìš´ì˜ì, í˜„ì§€ PM ë“± ì°¸ì¡° ëŒ€ìƒ ì…ë ¥" />
                  </div>
                </div>
              </div>

              <!-- ë°œì†¡ ì±„ë„ -->
              <div class="reply-row">
                <div class="reply-label">ë°œì†¡ ì±„ë„</div>
                <div class="reply-value">
                  <div class="reply-channel-group">
                    <label><input type="checkbox" checked /> ì´ë©”ì¼</label>
                    <label><input type="checkbox" checked /> ë¬¸ì(SMS)</label>
                  </div>
                </div>
              </div>

              <!-- ë³¸ë¬¸ ì—ë””í„° -->
              <div class="reply-row">
                <div class="reply-label">ë³¸ë¬¸</div>
                <div class="reply-value">
                  <div class="reply-editor" contenteditable="true">
<p>ì•ˆë…•í•˜ì„¸ìš”, í™ê¸¸ë™ë‹˜.</p>
<p>ì œë³´í•´ ì£¼ì‹  í†µí™” ë…¹ìŒ ëˆ„ë½ ê±´ì— ëŒ€í•´ ë¡œê·¸ ë¶„ì„ì„ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤.</p>
<p>ì¶”ê°€ë¡œ, ë¬¸ì œê°€ ë°œìƒí•œ ì‹œì ì˜ ë‹¨ë§ ë¡œê·¸ ë° OS ë²„ì „ ì •ë³´ë¥¼ ê³µìœ í•´ ì£¼ì‹œë©´ ë³´ë‹¤ ì •í™•í•œ ì›ì¸ íŒŒì•…ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.</p>
<p>í™•ì¸ í›„ íšŒì‹  ë¶€íƒë“œë¦½ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.</p>
                  </div>
                </div>
              </div>

              <!-- íŒŒì¼ ì²¨ë¶€ -->
              <div class="reply-row">
                <div class="reply-label">íŒŒì¼ ì²¨ë¶€</div>
                <div class="reply-value">
                  <div class="upload-dropzone ticket-upload-dropzone">
                    <button class="upload-plus-btn" type="button" data-role="ticket-upload-add">ï¼‹</button>
                    <div class="ticket-upload-main-text">
                      Drag &amp; Dropìœ¼ë¡œ íŒŒì¼ì„ ì²¨ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>
                    <div class="ticket-upload-sub-text">
                      (ê°œë³„ íŒŒì¼ ìµœëŒ€ 50MB, ì „ì²´ 200MBê¹Œì§€ ì—…ë¡œë“œ ê°€ëŠ¥)
                    </div>
                    <input type="file" multiple data-role="ticket-upload-input" style="display:none;" />
                  </div>
                </div>
              </div>

              <!-- í‹°ì¼“ ìƒíƒœ ë³€ê²½ -->
              <div class="reply-row">
                <div class="reply-label">í‹°ì¼“ ìƒíƒœ</div>
                <div class="reply-value">
                  <div class="reply-status-row">
                    <select class="field-select field-select-sm">
                      <option>í˜„ì¬ ìƒíƒœ ìœ ì§€ (ì²˜ë¦¬ ì¤‘)</option>
                      <option>ì²˜ë¦¬ ì¤‘</option>
                      <option>ë‹µë³€ ëŒ€ê¸°</option>
                      <option>ìˆ˜ì • ë°°í¬ ì˜ˆì •</option>
                      <option>í•´ê²°ë¨</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- í•˜ë‹¨ ë²„íŠ¼ -->
              <div class="btn-group-right">
                <button class="btn-secondary" type="button" data-role="ticket-back">ëª©ë¡</button>
                <button class="btn-primary" type="button" data-role="ticket-send">ë°œì†¡</button>
              </div>
            </section>
          </div>
        </section>
      `;
    }

    /* ========================= Breadcrumb ë Œë”ë§ ========================= */
    function renderBreadcrumb(top, l2, l3) {
      const breadcrumbEl = document.getElementById("breadcrumb");

      if (top === "ì„œë¹„ìŠ¤ ìš´ì˜" && l2 === "Support Center" && l3 === "ê³µì§€/SOP/FAQ") {
        breadcrumbEl.innerHTML = `
          <span>ì„œë¹„ìŠ¤ ìš´ì˜</span>
          <span>â€º</span>
          <span>Support Center</span>
          <span>â€º</span>
          <span class="current">ê³µì§€ì‚¬í•­/SOP/FAQ</span>
        `;
        return;
      }

      if (top === "ì„œë¹„ìŠ¤ ìš´ì˜" && l2 === "Support Center" && l3 === "ìœ í”ŒëŸ¬ìŠ¤") {
        breadcrumbEl.innerHTML = `
          <span>ì„œë¹„ìŠ¤ ìš´ì˜</span>
          <span>â€º</span>
          <span>Support Center</span>
          <span>â€º</span>
          <span class="current">ìœ í”ŒëŸ¬ìŠ¤</span>
        `;
        return;
      }

      breadcrumbEl.innerHTML = `
        <span>${top}</span>
        <span>â€º</span>
        <span>${l2}</span>
        ${l3 ? `<span>â€º</span><span class="current">${l3}</span>` : ""}
      `;
    }

    /* ========================= í‹°ì¼“ í•„í„° + ê²€ìƒ‰ ì ìš© ========================= */
    function applyTicketFilters() {
      const tbody = document.querySelector(".ticket-table tbody");
      if (!tbody) return;

      const rows = Array.from(tbody.querySelectorAll("tr"));
      const statusSelect = document.querySelector('[data-role="ticket-filter-status-select"]');
      const prioritySelect = document.querySelector('[data-role="ticket-filter-priority-select"]');
      const customerCheckboxes = document.querySelectorAll('[data-role="ticket-filter-customer"]');
      const searchInput = document.querySelector('[data-role="ticket-search-input"]');

      const statusVal = statusSelect ? statusSelect.value : "all";
      const priorityVal = prioritySelect ? prioritySelect.value : "all";
      const query = searchInput ? searchInput.value.trim().toLowerCase() : "";

      let selectedCustomers = Array.from(customerCheckboxes)
        .filter(cb => cb.checked)
        .map(cb => cb.value);

      if (selectedCustomers.length === 0 || selectedCustomers.includes("all")) {
        selectedCustomers = [];
      }

      rows.forEach((row) => {
        const rowStatus = row.dataset.status || "";
        const rowPriority = row.dataset.priority || "";
        const rowOwner = row.dataset.owner || "";
        const cells = row.cells || [];

        const idText = cells[1] ? cells[1].textContent : "";
        const titleEl = row.querySelector('[data-role="ticket-open-detail"]');
        const titleText = titleEl ? titleEl.textContent : (cells[6] ? cells[6].textContent : "");
        const companyText = cells[7] ? cells[7].textContent : "";
        const ownerText = cells[8] ? cells[8].textContent : "";

        // ìƒíƒœ í•„í„°
        let statusMatch = true;
        switch (statusVal) {
          case "unassigned":
            statusMatch = rowOwner === "unassigned";
            break;
          case "progress":
            statusMatch = rowStatus === "processing" || rowStatus === "deploy";
            break;
          case "waiting":
            statusMatch = rowStatus === "waiting";
            break;
          case "resolved":
            statusMatch = rowStatus === "resolved";
            break;
          case "closed":
            statusMatch = rowStatus === "closed";
            break;
          case "all":
          default:
            statusMatch = true;
        }

        // ìš°ì„ ìˆœìœ„ í•„í„°
        let priorityMatch = true;
        switch (priorityVal) {
          case "critical":
            priorityMatch = rowPriority === "critical";
            break;
          case "normal":
            priorityMatch = rowPriority === "normal";
            break;
          case "low":
            priorityMatch = rowPriority === "low";
            break;
          case "all":
          default:
            priorityMatch = true;
        }

        // ê³ ê°ì‚¬ í•„í„°
        let customerMatch = true;
        if (selectedCustomers.length) {
          const companyLower = companyText.toLowerCase();
          customerMatch = selectedCustomers.some(val => {
            if (val === "maxis") return companyLower.includes("maxis");
            if (val === "custA") return companyLower.includes("ê³ ê°ì‚¬ a");
            if (val === "custB") return companyLower.includes("ê³ ê°ì‚¬ b");
            if (val === "custC") return companyLower.includes("ê³ ê°ì‚¬ c");
            return true;
          });
        }

        // ê²€ìƒ‰ í•„í„° (í‹°ì¼“ ID, ì œëª©, ê³ ê°ì‚¬, ë‹´ë‹¹ì ê¸°ì¤€)
        let searchMatch = true;
        if (query) {
          const combined = (idText + " " + titleText + " " + companyText + " " + ownerText).toLowerCase();
          searchMatch = combined.includes(query);
        }

        row.style.display = statusMatch && priorityMatch && customerMatch && searchMatch ? "" : "none";
      });

      // ê³ ê°ì‚¬ ë“œë¡­ë‹¤ìš´ ë¼ë²¨ ì—…ë°ì´íŠ¸
      const labelEl = document.querySelector('[data-role="ticket-filter-customer-label"]');
      if (labelEl) {
        const customerCheckboxesAll = Array.from(customerCheckboxes);
        const checked = customerCheckboxesAll.filter(cb => cb.checked);
        let labelText = "ì „ì²´(ëª¨ë“  ê³ ê°ì‚¬)";

        if (checked.length && !checked.some(cb => cb.value === "all")) {
          const names = checked.map(cb => {
            const label = cb.closest("label");
            return label ? label.textContent.trim() : cb.value;
          });
          labelText = names.join(", ");
        }

        labelEl.textContent = labelText;
      }
    }

    /* ========================= í˜ì´ì§€ ë Œë”ë§ ========================= */
    function renderPage(top, l2, l3) {
      const container = document.getElementById("page-inner");

      // Support Center > ìœ í”ŒëŸ¬ìŠ¤ (í‹°ì¼“ ëª©ë¡/ìƒì„¸)
      if (top === "ì„œë¹„ìŠ¤ ìš´ì˜" && l2 === "Support Center" && l3 === "ìœ í”ŒëŸ¬ìŠ¤") {
        if (currentTicketView === "list") {
          container.innerHTML = getUplusTicketListHTML();
          applyTicketFilters();
        } else {
          container.innerHTML = getUplusTicketDetailHTML(ticketHasOwner);
        }
        renderBreadcrumb("ì„œë¹„ìŠ¤ ìš´ì˜", "Support Center", "ìœ í”ŒëŸ¬ìŠ¤");
        return;
      }

      // Support Center > ê³µì§€/SOP/FAQ (ê²Œì‹œíŒ)
      if (top === "ì„œë¹„ìŠ¤ ìš´ì˜" && l2 === "Support Center" && l3 === "ê³µì§€/SOP/FAQ") {
        if (currentBoardView === "list") {
          container.innerHTML = getBoardListHTML(currentBoardType);
        } else if (currentBoardView === "detail") {
          container.innerHTML = getBoardDetailHTML(currentBoardType);
        } else if (currentBoardView === "edit") {
          container.innerHTML = getBoardEditHTML(currentBoardType, boardEditMode);
        }
        renderBreadcrumb("ì„œë¹„ìŠ¤ ìš´ì˜", "Support Center", "ê³µì§€/SOP/FAQ");
        return;
      }

      // ì˜ˆì‹œ: ê³„ì • ê´€ë¦¬
      if (top === "ì„œë¹„ìŠ¤ ìš´ì˜" && l2 === "ì‚¬ìš©ì ê´€ë¦¬" && l3 === "ê³„ì • ê´€ë¦¬") {
        container.innerHTML = ACCOUNT_PAGE_HTML;
        renderBreadcrumb("ì„œë¹„ìŠ¤ ìš´ì˜", "ì‚¬ìš©ì ê´€ë¦¬", "ê³„ì • ê´€ë¦¬");
        return;
      }

      // ê¸°íƒ€ ê²½ë¡œ Stub
      container.innerHTML = `
        <div class="page-title">${l3 || l2}</div>
        <div class="stub-card">
          <div class="stub-title">Stub í™”ë©´ Â· ìƒì„¸ GUIëŠ” ì¶”í›„ êµ¬ì„± ì˜ˆì •ì…ë‹ˆë‹¤.</div>
          <p class="stub-desc">
            [${top} &gt; ${l2}${l3 ? " &gt; " + l3 : ""}] ê²½ë¡œì— ëŒ€í•œ ê¸°ëŠ¥ í™”ë©´ì€ í™”ë©´ ì •ì˜ í•©ì˜ í›„ êµ¬ì„±ë  ì˜ˆì •ì…ë‹ˆë‹¤.
          </p>
        </div>
      `;
      renderBreadcrumb(top, l2, l3);
    }

    /* ========================= ìƒë‹¨ ë„¤ë¹„ / ì‚¬ì´ë“œë°” ========================= */
    function setActiveTopNav(topLabel) {
      const topNavItems = document.querySelectorAll(".top-nav-item");
      topNavItems.forEach((item) => {
        const label = item.getAttribute("data-top-label");
        item.classList.toggle("active", label === topLabel);
      });
    }

    function renderSidebar(topLabel, selectedL2, selectedL3) {
      const sidebarTitleEl = document.getElementById("sidebar-title");
      const sidebarMenuEl = document.getElementById("sidebar-menu");
      sidebarTitleEl.textContent = topLabel;
      sidebarMenuEl.innerHTML = "";

      const menus = MENU_STRUCTURE[topLabel] || {};
      Object.keys(menus).forEach((l2Name) => {
        const l3List = menus[l2Name];
        const li = document.createElement("li");
        li.className = "menu-item";
        li.dataset.l2 = l2Name;

        const isActiveL2 = l2Name === selectedL2;
        if (isActiveL2) li.classList.add("active", "open");

        const mainDiv = document.createElement("div");
        mainDiv.className = "menu-main";

        const labelDiv = document.createElement("div");
        labelDiv.className = "menu-label";

        const iconSpan = document.createElement("span");
        iconSpan.className = "menu-icon";
        iconSpan.textContent = "ğŸ“‚";

        const textSpan = document.createElement("span");
        textSpan.textContent = l2Name;

        labelDiv.appendChild(iconSpan);
        labelDiv.appendChild(textSpan);

        const arrowSpan = document.createElement("span");
        arrowSpan.className = "menu-arrow";
        arrowSpan.textContent = "â€º";

        mainDiv.appendChild(labelDiv);
        mainDiv.appendChild(arrowSpan);

        const subUl = document.createElement("ul");
        subUl.className = "submenu-list";

        l3List.forEach((l3Name) => {
          const subLi = document.createElement("li");
          subLi.className = "submenu-item";
          subLi.dataset.l3 = l3Name;
          subLi.textContent = l3Name;
          if (isActiveL2 && l3Name === selectedL3) {
            subLi.classList.add("active");
          }
          subUl.appendChild(subLi);
        });

        li.appendChild(mainDiv);
        li.appendChild(subUl);
        sidebarMenuEl.appendChild(li);
      });
    }

    function routeTo(top, l2, l3) {
      currentTop = top;
      currentL2 = l2;
      currentL3 = l3;

      // Support Center â€“ ìœ í”ŒëŸ¬ìŠ¤: í•­ìƒ ëª©ë¡ë¶€í„° ì§„ì…
      if (top === "ì„œë¹„ìŠ¤ ìš´ì˜" && l2 === "Support Center" && l3 === "ìœ í”ŒëŸ¬ìŠ¤") {
        currentTicketView = "list";
      }

      // Support Center â€“ ê²Œì‹œíŒ
      if (top === "ì„œë¹„ìŠ¤ ìš´ì˜" && l2 === "Support Center" && l3 === "ê³µì§€/SOP/FAQ") {
        currentBoardView = "list";
        currentBoardType = currentBoardType || "ê³µì§€ì‚¬í•­";
      }

      setActiveTopNav(top);
      renderSidebar(top, l2, l3);
      renderPage(top, l2, l3);
    }

    /* ========================= ëª¨ë‹¬ ì œì–´ ========================= */
    function openOwnerModal() {
      const modal = document.getElementById("owner-modal");
      if (modal) {
        modal.style.display = "flex";
      }
    }
    function closeOwnerModal() {
      const modal = document.getElementById("owner-modal");
      if (modal) {
        modal.style.display = "none";
      }
    }

    /* ========================= ì´ë²¤íŠ¸ ë°”ì¸ë”© ========================= */
    document.addEventListener("DOMContentLoaded", () => {
      // ì´ˆê¸° ì§„ì…: ì„œë¹„ìŠ¤ ìš´ì˜ > Support Center > ê³µì§€/SOP/FAQ
      routeTo(currentTop, currentL2, currentL3);

      // ìƒë‹¨ L1 íƒ­ í´ë¦­
      document.querySelectorAll(".top-nav-item").forEach((item) => {
        item.addEventListener("click", () => {
          const topLabel = item.getAttribute("data-top-label");
          const menus = MENU_STRUCTURE[topLabel];
          if (!menus) return;

          const l2Names = Object.keys(menus);
          const firstL2 = l2Names[0];
          const firstL3 = menus[firstL2][0];

          routeTo(topLabel, firstL2, firstL3);
        });
      });

      // ì‚¬ì´ë“œë°” L2/L3 í´ë¦­
      const sidebarMenuEl = document.getElementById("sidebar-menu");
      sidebarMenuEl.addEventListener("click", (e) => {
        const submenuItem = e.target.closest(".submenu-item");
        const menuMain = e.target.closest(".menu-main");

        // L3 í´ë¦­
        if (submenuItem) {
          const l3 = submenuItem.dataset.l3;
          const l2 = submenuItem.closest(".menu-item").dataset.l2;

          if (currentTop === "ì„œë¹„ìŠ¤ ìš´ì˜" && l2 === "Support Center" && l3 === "ìœ í”ŒëŸ¬ìŠ¤") {
            currentTicketView = "list";
          }
          if (currentTop === "ì„œë¹„ìŠ¤ ìš´ì˜" && l2 === "Support Center" && l3 === "ê³µì§€/SOP/FAQ") {
            currentBoardView = "list";
            currentBoardType = "ê³µì§€ì‚¬í•­";
          }

          routeTo(currentTop, l2, l3);
          return;
        }

        // L2 í—¤ë” í´ë¦­ (ì•„ì½”ë””ì–¸ + ì²« L3)
        if (menuMain) {
          const menuItem = menuMain.closest(".menu-item");
          const l2 = menuItem.dataset.l2;
          const menus = MENU_STRUCTURE[currentTop] || {};
          const l3List = menus[l2] || [];
          const l3 = l3List[0] || "";

          if (menuItem.classList.contains("open") && currentL2 === l2) {
            menuItem.classList.toggle("open");
            return;
          }

          if (currentTop === "ì„œë¹„ìŠ¤ ìš´ì˜" && l2 === "Support Center" && l3 === "ìœ í”ŒëŸ¬ìŠ¤") {
            currentTicketView = "list";
          }
          if (currentTop === "ì„œë¹„ìŠ¤ ìš´ì˜" && l2 === "Support Center" && l3 === "ê³µì§€/SOP/FAQ") {
            currentBoardView = "list";
            currentBoardType = "ê³µì§€ì‚¬í•­";
          }

          routeTo(currentTop, l2, l3);
        }
      });

      // ëª¨ë‹¬ ë°”ê¹¥ ì˜ì—­ í´ë¦­ ì‹œ ë‹«ê¸°
      const ownerModal = document.getElementById("owner-modal");
      if (ownerModal) {
        ownerModal.addEventListener("click", (evt) => {
          if (evt.target === ownerModal) {
            closeOwnerModal();
          }
        });
      }

      // ë³¸ë¬¸ ë‚´ë¶€(ê²Œì‹œíŒ + ìœ í”ŒëŸ¬ìŠ¤ í‹°ì¼“ ì˜ì—­) í´ë¦­ ì´ë²¤íŠ¸
      document.body.addEventListener("click", (e) => {
        // ê³ ê°ì‚¬ ë©€í‹°ì…€ë ‰íŠ¸ ë“œë¡­ë‹¤ìš´ í† ê¸€
        const dropdownRoot = document.querySelector('[data-role="ticket-filter-customer-dropdown"]');
        const clickedInsideDropdown = e.target.closest('[data-role="ticket-filter-customer-dropdown"]');

        if (dropdownRoot && !clickedInsideDropdown) {
          dropdownRoot.classList.remove("open");
        }

        const trigger = e.target.closest(".multiselect-trigger");
        if (trigger && trigger.closest('[data-role="ticket-filter-customer-dropdown"]')) {
          const container = trigger.closest(".multiselect-dropdown");
          container.classList.toggle("open");
          return;
        }

        const tab = e.target.closest(".board-tab");
        if (tab) {
          const board = tab.getAttribute("data-board");
          if (board) {
            currentBoardType = board;
            currentBoardView = "list";
            renderPage(currentTop, currentL2, currentL3);
          }
          return;
        }

        const roleTarget = e.target.closest("[data-role]");
        if (!roleTarget) return;
        const role = roleTarget.getAttribute("data-role");

        const isUplusTicketPage =
          currentTop === "ì„œë¹„ìŠ¤ ìš´ì˜" &&
          currentL2 === "Support Center" &&
          currentL3 === "ìœ í”ŒëŸ¬ìŠ¤";

        /* ===== ìœ í”ŒëŸ¬ìŠ¤ í‹°ì¼“ ì „ìš© ë™ì‘ ===== */
        if (isUplusTicketPage) {
          if (role === "ticket-open-detail") {
            currentTicketView = "detail";
            renderPage(currentTop, currentL2, currentL3);
            return;
          }

          if (role === "ticket-back") {
            currentTicketView = "list";
            renderPage(currentTop, currentL2, currentL3);
            return;
          }

          if (role === "ticket-assign-me") {
            alert("í•´ë‹¹ í‹°ì¼“ì„ í˜„ì¬ ë¡œê·¸ì¸ ì‚¬ìš©ìì—ê²Œ í• ë‹¹í•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤. (ì‹¤ì œ êµ¬í˜„ ì‹œ ë‹´ë‹¹ì ë³€ê²½ API ì—°ë™)");
            return;
          }

          if (role === "ticket-send") {
            alert("ê³ ê°ì—ê²Œ ë‹µë³€ ì „ì†¡ ë° í‹°ì¼“ ìƒíƒœ ë³€ê²½ ë¡œì§ì´ ì—°ë™ë  ì˜ì—­ì…ë‹ˆë‹¤. (SLA, ìƒíƒœ ì „ì´, íˆìŠ¤í† ë¦¬ ê¸°ë¡ í¬í•¨)");
            return;
          }

          if (role === "btn-refresh-ticket") {
            alert("í‹°ì¼“ ëª©ë¡ì„ ì¬ì¡°íšŒí•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤. (ì‹¤ì œ êµ¬í˜„ ì‹œ í•„í„° ì¡°ê±´ê³¼ í•¨ê»˜ ì¡°íšŒ API ì—°ë™)");
            return;
          }

          if (role === "ticket-upload-add") {
            const zone = roleTarget.closest(".ticket-upload-dropzone");
            if (zone) {
              const input = zone.querySelector('[data-role="ticket-upload-input"]');
              if (input) input.click();
            }
            return;
          }

          if (role === "ticket-assign-popup") {
            openOwnerModal();
            return;
          }
        }

        /* ===== ëª¨ë‹¬ ë²„íŠ¼ ë™ì‘ ===== */
        if (role === "modal-close") {
          closeOwnerModal();
          return;
        }

        if (role === "modal-save-owner") {
          alert("ì„ íƒí•œ ë‹´ë‹¹ìë¡œ í‹°ì¼“ì´ í• ë‹¹ë˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤. (ì‹¤ì œ êµ¬í˜„ ì‹œ ë‹´ë‹¹ì ë³€ê²½ API ì—°ë™)");
          closeOwnerModal();
          return;
        }

        /* ===== Support Center ê²Œì‹œíŒ ë™ì‘ ===== */
        // ëª©ë¡ â†’ ì‹ ê·œ ë“±ë¡
        if (role === "btn-create") {
          currentBoardView = "edit";
          boardEditMode = "create";
          renderPage(currentTop, currentL2, currentL3);
          return;
        }

        // ëª©ë¡ â†’ ìƒì„¸ (ì œëª© í´ë¦­) - ë°ì´í„°ê°€ ìˆì„ ë•Œë§Œ
        if (role === "link-detail") {
          if (!boardHasData) return;
          currentBoardView = "detail";
          renderPage(currentTop, currentL2, currentL3);
          return;
        }

        // ìƒì„¸ í•˜ë‹¨ ë²„íŠ¼ë“¤
        if (role === "btn-list") {
          currentBoardView = "list";
          renderPage(currentTop, currentL2, currentL3);
          return;
        }

        if (role === "btn-edit") {
          currentBoardView = "edit";
          boardEditMode = "edit";
          renderPage(currentTop, currentL2, currentL3);
          return;
        }

        if (role === "btn-delete") {
          alert("ì‚­ì œëŠ” ì‹¤ì œ ì„œë¹„ìŠ¤ ì—°ë™ ì‹œ ì²˜ë¦¬ë©ë‹ˆë‹¤. (UI ìƒì—ì„œëŠ” ì‚­ì œ í™•ì¸ ëª¨ë‹¬ì´ ëœ¨ëŠ” êµ¬ì¡° ê¶Œì¥)");
          return;
        }

        if (role === "btn-download" || role === "btn-download-all") {
          alert("íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì˜ˆì‹œì…ë‹ˆë‹¤. (ì‹¤ì œ êµ¬í˜„ ì‹œ íŒŒì¼ URL ì¸ì½”ë”© ë° ë¸Œë¼ìš°ì € ë·°ì–´ ì—°ë™)");
          return;
        }

        // ë“±ë¡/ìˆ˜ì • í¼ í•˜ë‹¨ ë²„íŠ¼
        if (role === "btn-cancel") {
          currentBoardView = "list";
          renderPage(currentTop, currentL2, currentL3);
          return;
        }

        if (role === "btn-draft") {
          alert("ì„ì‹œì €ì¥ ì˜ˆì‹œì…ë‹ˆë‹¤. (ì‹¤ì œ êµ¬í˜„ ì‹œ ë“œë˜í”„íŠ¸ ì €ì¥ API ì—°ë™)");
          return;
        }

        if (role === "btn-submit") {
          alert(boardEditMode === "edit" ? "ìˆ˜ì • ì™„ë£Œ ì˜ˆì‹œì…ë‹ˆë‹¤." : "ë“±ë¡ ì™„ë£Œ ì˜ˆì‹œì…ë‹ˆë‹¤.");
          currentBoardView = "list";
          renderPage(currentTop, currentL2, currentL3);
          return;
        }

        // ì´ì „ê¸€ / ë‹¤ìŒê¸€ ë§í¬
        if (role === "link-prev" || role === "link-next") {
          alert("ì´ì „/ë‹¤ìŒ ê¸€ ìƒì„¸ë¡œ ì´ë™í•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤. (ì‹¤ì œ êµ¬í˜„ ì‹œ í•´ë‹¹ ê¸€ IDë¡œ ë¼ìš°íŒ…)");
          return;
        }
      });

      // ìƒíƒœ/ìš°ì„ ìˆœìœ„/ê³ ê°ì‚¬ ë“œë¡­ë‹¤ìš´/ì²´í¬ë°•ìŠ¤ ë³€ê²½ ì‹œ í•„í„° ì ìš©
      document.addEventListener("change", (e) => {
        if (
          e.target.matches('[data-role="ticket-filter-status-select"]') ||
          e.target.matches('[data-role="ticket-filter-priority-select"]') ||
          e.target.matches('[data-role="ticket-filter-customer"]')
        ) {
          if (
            currentTop === "ì„œë¹„ìŠ¤ ìš´ì˜" &&
            currentL2 === "Support Center" &&
            currentL3 === "ìœ í”ŒëŸ¬ìŠ¤" &&
            currentTicketView === "list"
          ) {
            applyTicketFilters();
          }
        }
      });

      // ê²€ìƒ‰ ì¸í’‹ ë³€ê²½ ì‹œ í•„í„° ì ìš©
      document.addEventListener("input", (e) => {
        if (e.target.matches('[data-role="ticket-search-input"]')) {
          if (
            currentTop === "ì„œë¹„ìŠ¤ ìš´ì˜" &&
            currentL2 === "Support Center" &&
            currentL3 === "ìœ í”ŒëŸ¬ìŠ¤" &&
            currentTicketView === "list"
          ) {
            applyTicketFilters();
          }
        }
      });
    });
    </script>

  <script>
    // Recent inquiries modal behavior (improved)
    (function(){
      function parseTicketIdFromSummary() {
        const el = document.querySelector('.ticket-summary-id');
        if (!el) return null;
        const txt = el.textContent || '';
        const m = txt.match(/Ticket ID\s+([\w\-]+)/i);
        return m ? m[1] : null;
      }

      function getCurrentCompany() {
        // Prefer explicit customer field when available in the meta grid
        const companyMeta = Array.from(document.querySelectorAll('.ticket-meta-item')).find(d => {
          const label = d.querySelector('.meta-item-label');
          return label && label.textContent.trim() === 'ê³ ê°ì‚¬';
        });
        if (companyMeta) {
          const val = companyMeta.querySelector('span:last-child');
          if (val) return val.textContent.trim();
        }
        const el = document.querySelector('.ticket-summary-id');
        if (!el) return null;
        const parts = (el.textContent || '').split('Â·');
        if (parts.length < 2) return null;
        return parts[1].trim();
      }

      function parseDateString(s) {
        if (!s) return new Date(0);
        const normalized = s.trim().replace(/\./g,'-').replace(/\//g,'-');
        const dt = new Date(normalized);
        if (!isNaN(dt)) return dt;
        const m = normalized.match(/(\d{4})[-](\d{1,2})[-](\d{1,2}).*(\d{1,2}):(\d{1,2})/);
        if (m) return new Date(m[1], m[2]-1, m[3], m[4], m[5]);
        return new Date(0);
      }

      function formatDateYMD(s) {
        if (!s) return '';
        const dt = parseDateString(s);
        if (isNaN(dt)) return s.split(' ')[0] || s;
        const yyyy = dt.getFullYear();
        const mm = String(dt.getMonth()+1).padStart(2,'0');
        const dd = String(dt.getDate()).padStart(2,'0');
        return `${yyyy}-${mm}-${dd}`;
      }

      const SAMPLE_TICKETS = [
        { id: 'U-1022', status: 'í•´ê²°ë¨', category: 'í†µí™”', title: 'í†µí™” ë…¹ìŒ íŒŒì¼ì´ ì¬ìƒë˜ì§€ ì•ŠìŒ', owner: 'ë°•ì§€ì›', regDate: '2025-11-28 09:12', detailUrl: `${location.pathname}?ticket=U-1022` },
        { id: 'U-1019', status: 'ë‹µë³€ ëŒ€ê¸°', category: 'ë¡œê·¸', title: 'ì˜¤ë¥˜ ë¡œê·¸ ì¶”ê°€ ìš”ì²­', owner: 'ì´ì‘ëŒ€', regDate: '2025-11-27 15:40', detailUrl: `${location.pathname}?ticket=U-1019` },
        { id: 'U-1015', status: 'ì²˜ë¦¬ ì¤‘', category: 'ì„¤ì •', title: 'ì„¤ì • ë³€ê²½ ìš”ì²­', owner: 'ê¹€ìš´ì˜', regDate: '2025-11-24 11:20', detailUrl: `${location.pathname}?ticket=U-1015` },
        { id: 'U-1008', status: 'ë¯¸ì ‘ìˆ˜', category: 'ì¸ì¦', title: 'ì¸ì¦ ì˜¤ë¥˜ ë°œìƒ', owner: '-', regDate: '2025-11-20 08:05', detailUrl: `${location.pathname}?ticket=U-1008` },
        { id: 'U-0999', status: 'ì¢…ë£Œ', category: 'ëŒ€ì‹œë³´ë“œ', title: 'ëŒ€ì‹œë³´ë“œ ì ‘ì† ì†ë„ ì €í•˜', owner: 'ì •ê°œë°œ', regDate: '2025-11-18 13:00', detailUrl: `${location.pathname}?ticket=U-0999` },
        { id: 'U-0992', status: 'í•´ê²°ë¨', category: 'ì•Œë¦¼', title: 'ì•Œë¦¼ ë©”ì¼ ì œëª© ì˜¤íƒ€ ìˆ˜ì •', owner: 'ë°•ì§€ì›', regDate: '2025-11-14 10:05', detailUrl: `${location.pathname}?ticket=U-0992` }
      ];

      function collectRecentTickets(currentId, company) {
        const rows = Array.from(document.querySelectorAll('.ticket-table tbody tr'));
        const tickets = rows.map(r => {
          const cells = r.querySelectorAll('td');
          const id = (cells[1] && cells[1].textContent.trim()) || '';
          const status = (cells[4] && cells[4].textContent.trim()) || '';
          const titleEl = r.querySelector('[data-role="ticket-open-detail"]');
          const title = titleEl ? titleEl.textContent.trim() : (cells[6] ? cells[6].textContent.trim() : '');
          const owner = (cells[8] && cells[8].textContent.trim()) || '';
          const companyCell = (cells[7] && cells[7].textContent.trim()) || '';
          const updated = (cells[9] && cells[9].textContent.trim()) || '';
          const regDate = updated;
          const detailUrl = `${location.pathname}?ticket=${encodeURIComponent(id)}`;
          return { id, status, title, owner, company: companyCell, regDate, detailUrl };
        }).filter(t => t.id && t.id !== currentId && (company ? t.company === company : true));

        tickets.sort((a,b) => parseDateString(b.regDate) - parseDateString(a.regDate));
        return tickets.slice(0,20);
      }

      function openRecentInquiriesModal() {
        const modal = document.getElementById('modal-recent-inquiries');
        if (!modal) return;
        const tbody = document.getElementById('recent-inquiries-body');
        tbody.innerHTML = '';
        const currentId = parseTicketIdFromSummary();
        const company = getCurrentCompany();
        const tickets = collectRecentTickets(currentId, company);
        // ensure at least 5 items by appending sample tickets as needed
        const merged = tickets.slice();
        for (let i = 0; merged.length < 5 && i < SAMPLE_TICKETS.length; i++) {
          const s = SAMPLE_TICKETS[i];
          if (s.id === currentId) continue;
          if (merged.some(x => x.id === s.id)) continue;
          merged.push(s);
        }
        if (merged.length === 0) {
          tbody.innerHTML = '<tr><td colspan="6" style="padding:12px; color:var(--text-muted);">ì¡°íšŒëœ ìµœê·¼ ë¬¸ì˜ê°€ ì—†ìŠµë‹ˆë‹¤.</td></tr>';
        } else {
          merged.forEach(t => {
            const tr = document.createElement('tr');
            tr.className = 'history-row';
            tr.innerHTML = `
              <td style="padding:8px; vertical-align:middle;"><a href="${t.detailUrl}" target="_blank" class="text-link">${t.id}</a></td>
              <td style="padding:8px; vertical-align:middle;">${t.status}</td>
              <td style="padding:8px; vertical-align:middle;">${t.category || '-'} </td>
              <td style="padding:8px; vertical-align:middle;">${t.title}</td>
              <td style="padding:8px; vertical-align:middle;">${t.owner}</td>
              <td style="padding:8px; vertical-align:middle;">${formatDateYMD(t.regDate)}</td>
            `;
            // row click opens in new tab
            tr.addEventListener('click', (ev) => {
              if (ev.target.closest('a')) return;
              window.open(t.detailUrl, '_blank');
            });
            tbody.appendChild(tr);
          });
        }
        modal.style.display = 'flex';
        // move focus into modal for accessibility
        const firstLink = tbody.querySelector('a');
        if (firstLink) firstLink.focus();
      }

      function closeRecentInquiriesModal() {
        const modal = document.getElementById('modal-recent-inquiries');
        if (!modal) return;
        modal.style.display = 'none';
      }

      document.addEventListener('click', (e) => {
        const btn = e.target.closest('[data-role="btn-show-recent-inquiries"]');
        if (btn) {
          openRecentInquiriesModal();
          return;
        }
        const closeBtn = e.target.closest('[data-role="modal-close-recent-inquiries"]');
        if (closeBtn) {
          closeRecentInquiriesModal();
          return;
        }
        // click outside modal-card closes it
        const modal = document.getElementById('modal-recent-inquiries');
        if (modal && e.target === modal) closeRecentInquiriesModal();
      });

      // ESC to close
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeRecentInquiriesModal();
      });

      // Also attach to body delegate for dynamic content
      document.body.addEventListener('click', (e) => {
        const btn = e.target.closest('[data-role="btn-show-recent-inquiries"]');
        if (btn) {
          openRecentInquiriesModal();
          return;
        }
        const closeBtn = e.target.closest('[data-role="modal-close-recent-inquiries"]');
        if (closeBtn) {
          closeRecentInquiriesModal();
          return;
        }
      });
    })();
  </script>
</body>
</html>
